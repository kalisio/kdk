# v2.5 - Not yet released

More details can be found in the related [milestone](https://github.com/kalisio/kdk/milestone/13) on GitHub.

## Major breaking changes

ğŸ’¥ Exposed properties changed in composable `activity.js`. `state`, `options` and `name` properties are now exposed using a more global object `CurrentActivityContext` which is reactive (see https://github.com/kalisio/kdk/issues/1055). 

::: tip 
To retrieve the `state` of the `CurrentActivity` you can now proceed that way:

```js
const { CurrentActivityContext } = useCurrentActivity()
const { state } = CurrentActivityContext
```
:::

::: warning
When using the composable `activity.js` from an another composable be aware that the `CurrentActivity` is not set and the `CurrentActivityContext` exposed properties are `null`. You should watch the `CurrentActivity` value to use the `CurrentActivityContext`object.
:::

ğŸ’¥ Renamed composable file `counter.js` to `collection-counter.js`. Therefore, the `useCounter` function is renamed to `useCollectionCounter`. 

## Major new features

ğŸ‘‰ New `KRequestProgressBar` component to be used in your `App.vue` or equivalent in order to display a progress bar whenever a request to the server is processing.

ğŸ‘‰ New `useErrors()` composable to be used in your `App.vue` or equivalent in order to display a notification whenever a request to the server raises an error.

ğŸ‘‰ Ability for JWT to target a user using others properties then the user ID, applications should allow this in their authentication configuration.

::: details â¬‡ï¸ Example of an authentication configuration to allow JWT identifying a user by email
```js
// default.js of your application, assuming your user objects have an email properties
authentication: {
	identityFields: ['email'],
	...
}
```

Your JWT can now be issued [as usual](https://kalisio.github.io/skeleton/guides/development/tips.html#personal-access-token) but using a payload like this:
```json
{
  "aud": "kalisio.xyz",
  "iss": "kalisio",
  "exp": 1552402010,
  "sub": "user_email@gmail.com"
}
```
:::