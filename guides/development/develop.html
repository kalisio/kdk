<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Develop with KDK | KDK</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="https://s3.eu-central-1.amazonaws.com/kalisioscope/kdk/kdk-icon-64x64.png">
    <link rel="manifest" href="/kdk/manifest.json">
    <meta name="description" content="The Kalisio Development Kit">
    <link rel="preload" href="/kdk/assets/css/0.styles.be5e49f6.css" as="style"><link rel="preload" href="/kdk/assets/js/app.2979533d.js" as="script"><link rel="preload" href="/kdk/assets/js/2.b84e3a27.js" as="script"><link rel="preload" href="/kdk/assets/js/36.e9606c59.js" as="script"><link rel="prefetch" href="/kdk/assets/js/10.9a7a60d0.js"><link rel="prefetch" href="/kdk/assets/js/11.f547d344.js"><link rel="prefetch" href="/kdk/assets/js/12.202b719d.js"><link rel="prefetch" href="/kdk/assets/js/13.c04d3589.js"><link rel="prefetch" href="/kdk/assets/js/14.2d9b4973.js"><link rel="prefetch" href="/kdk/assets/js/15.b3e46354.js"><link rel="prefetch" href="/kdk/assets/js/16.85bb4331.js"><link rel="prefetch" href="/kdk/assets/js/17.55762bcd.js"><link rel="prefetch" href="/kdk/assets/js/18.c2630b84.js"><link rel="prefetch" href="/kdk/assets/js/19.3ce75162.js"><link rel="prefetch" href="/kdk/assets/js/20.fc6d40c8.js"><link rel="prefetch" href="/kdk/assets/js/21.4a5cd3aa.js"><link rel="prefetch" href="/kdk/assets/js/22.84ae16c2.js"><link rel="prefetch" href="/kdk/assets/js/23.219edd51.js"><link rel="prefetch" href="/kdk/assets/js/24.bf7b406a.js"><link rel="prefetch" href="/kdk/assets/js/25.28829694.js"><link rel="prefetch" href="/kdk/assets/js/26.09c0d336.js"><link rel="prefetch" href="/kdk/assets/js/27.2eddd959.js"><link rel="prefetch" href="/kdk/assets/js/28.cdce61b4.js"><link rel="prefetch" href="/kdk/assets/js/29.bc29f96c.js"><link rel="prefetch" href="/kdk/assets/js/3.038ace67.js"><link rel="prefetch" href="/kdk/assets/js/30.bcd6bb80.js"><link rel="prefetch" href="/kdk/assets/js/31.55925014.js"><link rel="prefetch" href="/kdk/assets/js/32.e80a9c46.js"><link rel="prefetch" href="/kdk/assets/js/33.d70f888c.js"><link rel="prefetch" href="/kdk/assets/js/34.567e6f74.js"><link rel="prefetch" href="/kdk/assets/js/35.b9f2d41b.js"><link rel="prefetch" href="/kdk/assets/js/37.124afb38.js"><link rel="prefetch" href="/kdk/assets/js/38.85aa41ac.js"><link rel="prefetch" href="/kdk/assets/js/39.a15e6c89.js"><link rel="prefetch" href="/kdk/assets/js/4.aafc6d9f.js"><link rel="prefetch" href="/kdk/assets/js/40.06e1995a.js"><link rel="prefetch" href="/kdk/assets/js/41.08627c68.js"><link rel="prefetch" href="/kdk/assets/js/42.4b84ac28.js"><link rel="prefetch" href="/kdk/assets/js/43.62e892a4.js"><link rel="prefetch" href="/kdk/assets/js/44.d038a9e8.js"><link rel="prefetch" href="/kdk/assets/js/5.182fa82f.js"><link rel="prefetch" href="/kdk/assets/js/6.b89c564d.js"><link rel="prefetch" href="/kdk/assets/js/7.565ed12c.js"><link rel="prefetch" href="/kdk/assets/js/8.307fa4dc.js"><link rel="prefetch" href="/kdk/assets/js/9.6a1d0cd9.js">
    <link rel="stylesheet" href="/kdk/assets/css/0.styles.be5e49f6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kdk/" class="home-link router-link-active"><!----> <span class="site-name">KDK</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kdk/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kdk/guides/" class="nav-link router-link-active">
  Guides
</a></div><div class="nav-item"><a href="/kdk/architecture/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/kdk/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/kdk/tips.html" class="nav-link">
  Tips
</a></div><div class="nav-item"><a href="/kdk/tools/" class="nav-link">
  Tools
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kdk/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kdk/guides/" class="nav-link router-link-active">
  Guides
</a></div><div class="nav-item"><a href="/kdk/architecture/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/kdk/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/kdk/tips.html" class="nav-link">
  Tips
</a></div><div class="nav-item"><a href="/kdk/tools/" class="nav-link">
  Tools
</a></div> <!----></nav> <p align="center"><a href="https://kalisio.com"><img src="https://s3.eu-central-1.amazonaws.com/kalisioscope/kalisio/kalisio-logo-black-256x84.png"></a> <br> <!----></p> <ul class="sidebar-links"><li><a href="/kdk/guides/" aria-current="page" class="sidebar-link">Guides</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>The Basics</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Development</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kdk/guides/development/setup.html" class="sidebar-link">Setup your environment</a></li><li><a href="/kdk/guides/development/develop.html" aria-current="page" class="active sidebar-link">Develop with KDK</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kdk/guides/development/develop.html#web-app" class="sidebar-link">Web app</a></li><li class="sidebar-sub-header"><a href="/kdk/guides/development/develop.html#cordova-wrapper" class="sidebar-link">Cordova wrapper</a></li><li class="sidebar-sub-header"><a href="/kdk/guides/development/develop.html#modules-plugins" class="sidebar-link">Modules/Plugins</a></li></ul></li><li><a href="/kdk/guides/development/configure.html" class="sidebar-link">Configure your app</a></li><li><a href="/kdk/guides/development/deploy.html" class="sidebar-link">Deploy your app</a></li><li><a href="/kdk/guides/development/publish.html" class="sidebar-link">Publish your app</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="develop-with-kdk"><a href="#develop-with-kdk" class="header-anchor">#</a> Develop with KDK</h1> <p>The default Kalisio application template <a href="https://github.com/kalisio/kApp" target="_blank" rel="noopener noreferrer">kApp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> provides the basic structure and tools to build and run a KDK-based application. We detail the main commands in the following sections.</p> <h2 id="web-app"><a href="#web-app" class="header-anchor">#</a> Web app</h2> <h3 id="running-for-development"><a href="#running-for-development" class="header-anchor">#</a> Running for development</h3> <p>Run the frontend app (from root project folder): <code>$ yarn dev</code></p> <p>Then from the backend <code>api</code> folder run the server-side app: <code>$ yarn dev</code></p> <p>Then point your browser to <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">localhost:8080<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="building-for-production"><a href="#building-for-production" class="header-anchor">#</a> Building for production</h3> <p>Build the frontend app (from root project folder): <code>$ yarn build</code>.</p> <p>Then from the backend <code>api</code> folder build the server-side app: <code>$ yarn build</code></p> <h3 id="running-in-production"><a href="#running-in-production" class="header-anchor">#</a> Running in production</h3> <blockquote><p>Make sure you built your app first</p></blockquote> <p>From the backend <code>api</code> folder run the server-side Feathers app, this will also serve the frontend Quasar app : <code>$ yarn prod</code></p> <p>Then point your browser to <a href="http://localhost:8081" target="_blank" rel="noopener noreferrer">localhost:8081<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="linting-the-code"><a href="#linting-the-code" class="header-anchor">#</a> Linting the code</h3> <p>The <strong>KDK</strong> relies on <a href="https://github.com/feross/standard" target="_blank" rel="noopener noreferrer">JavaScript standard style<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>To lint the code:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> lint
</code></pre></div><p>You can also lint each of the submodules independently using the following commands:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> lint:core   <span class="token comment"># lint the core part</span>
<span class="token variable">$yarn</span> lint:map    <span class="token comment"># lint the map part</span>
</code></pre></div><p>:::</p> <h3 id="running-the-tests"><a href="#running-the-tests" class="header-anchor">#</a> Running the tests</h3> <p>The <strong>KDK</strong> relies on two different frameworks to perform the tests:</p> <ul><li>API tests are based on <a href="https://mochajs.org/" target="_blank" rel="noopener noreferrer">Mocha<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Client tests are based on <a href="https://github.com/DevExpress/testcafe" target="_blank" rel="noopener noreferrer">TestCafé<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="api"><a href="#api" class="header-anchor">#</a> API</h4> <p>From the root or backend <code>api</code> folder run the server-side tests:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> mocha
</code></pre></div><p>For coverage use:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> coverage
</code></pre></div><p>You can run the tests of each part independently using the following commands:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> mocha:core   <span class="token comment"># test the core module</span>
<span class="token variable">$yarn</span> mocha:map    <span class="token comment"># test the map module</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you need to perform some specific tests, you can use the <code>-g</code> or <code>--grep</code> option of the <code>mocha</code> command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> mocha:core -g <span class="token string">&quot;team&quot;</span> <span class="token comment"># run the team tests</span>
</code></pre></div></div> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> test:server
</code></pre></div><p>This will lint and fix issues in the code according to <a href="https://github.com/feross/standard" target="_blank" rel="noopener noreferrer">JS standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, then execute tests using <a href="https://mochajs.org/" target="_blank" rel="noopener noreferrer">Mocha<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and compute code coverage using <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">Istanbul<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h4 id="client"><a href="#client" class="header-anchor">#</a> Client</h4> <p>From the root folder run the client-side tests : <code>yarn test:client</code>. This will build the client, launch the server then execute tests using <a href="https://github.com/DevExpress/testcafe" target="_blank" rel="noopener noreferrer">TestCafé<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. If you already have a built app and a running server you could simply do this to launch TestCafé only: <code>$ yarn cafe:chrome</code> or <code>$ yarn cafe:firefox</code></p> <p>In development mode, you can tell TestCafé to run a specific fixture:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> cafe:firefox -f <span class="token string">&quot;a-fxture&quot;</span>
</code></pre></div><p>Or a specific test:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> cafe:firefox -t <span class="token string">&quot;a-test&quot;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Because the UI components are rendered asynchronously, it is often convenient to reduce the overall test execution speed to ensure the components are visible:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$yarn</span> cafe:firefox -f <span class="token string">&quot;a-fixture&quot;</span> --speed <span class="token number">0.8</span>
</code></pre></div></div> <h3 id="debugging"><a href="#debugging" class="header-anchor">#</a> Debugging</h3> <p>Use <a href="https://medium.com/@paul_irish/debugging-node-js-nightlies-with-chrome-devtools-7c4a1b95ae27" target="_blank" rel="noopener noreferrer">Chrome DevTools<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, look at this <a href="https://www.youtube.com/watch?v=Xb_0awoShR8" target="_blank" rel="noopener noreferrer">tutorial video<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Usually you simply have to open <code>chrome://inspect</code> in the Chrome URL.</p> <p>If you want to launch a specific test use: <code>yarn mocha -- --grep &quot;My test&quot;</code>.</p> <p>If you want to pause the debugger when running the tests this should do it: <code>yarn mocha -- --inspect-brk</code>.</p> <p>If you want to debug replicas you can use the following environment variables to launch two instances of your apps:</p> <ul><li><strong>PORT / HTTPS_PORT</strong>: API server port for HTTP and HTTPS modes</li> <li><strong>CLIENT_PORT / HTTPS_CLIENT_PORT</strong>: frontend server port for HTTP and HTTPS modes</li></ul> <p>For the backend run one instance with <code>$ yarn dev</code> and the other one with <code>$ yarn dev:replica</code> (this will use another port for the Node.js debugger on the second instance and avoid conflict).</p> <h2 id="cordova-wrapper"><a href="#cordova-wrapper" class="header-anchor">#</a> Cordova wrapper</h2> <p><a href="https://quasar.dev/quasar-cli/developing-cordova-apps/introduction" target="_blank" rel="noopener noreferrer">Quasar guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> might help.</p> <h3 id="running-for-development-2"><a href="#running-for-development-2" class="header-anchor">#</a> Running for development</h3> <p>Run your web app as usual first, then build and run the mobile app in debug mode (from project folder):</p> <div class="language- extra-class"><pre class="language-text"><code>// Android
$ yarn cordova:dev:android
// iOS
$ yarn cordova:dev:ios
</code></pre></div><p>If no device is connected this should launch the emulator, otherwise this should use your device.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Check that the <a href="https://developer.android.com/studio/command-line/adb.html" target="_blank" rel="noopener noreferrer"><code>adb</code> daemon<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is running and that you authorized USB debug on your device. Use <code>adb devices</code> to check if your device is here, if you see it in <code>unauthorised</code> state uncheck/check again the USB debug option on your device.</p></div> <p>Information about the <a href="https://developer.android.com/studio/run/emulator-networking.html" target="_blank" rel="noopener noreferrer">Android Emulator Networking<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> might be useful.</p> <p>When running the app through Cordova the <code>domain</code> entry of the client-side config file is used to know how to contact the remote API service:</p> <ul><li>use http://10.0.2.2:8081 in the emulator which is an alias to host loopback interface</li> <li>use eg http://192.168.1.16:8081 in your device which is the IP affected by your router to your localhost (use <code>ipconfig /all</code> under Windows or <code>ifconfig</code> under Linux to get it)</li> <li>use <a href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/local-server" target="_blank" rel="noopener noreferrer">port forwarding<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="building-for-production-2"><a href="#building-for-production-2" class="header-anchor">#</a> Building for production</h3> <p>Build the app in release mode (from project folder):</p> <div class="language- extra-class"><pre class="language-text"><code>// Android
$ yarn cordova:build:android
// iOS
$ yarn cordova:build:ios
</code></pre></div><h3 id="debug"><a href="#debug" class="header-anchor">#</a> Debug</h3> <p>Use <a href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/" target="_blank" rel="noopener noreferrer">Chrome DevTools<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for the WebView. If you want to also get native errors without running Android Studio use <a href="https://ourcodeworld.com/articles/read/295/how-to-debug-java-code-in-a-Cordova-android-application-from-your-device-using-adb-in-windows" target="_blank" rel="noopener noreferrer">logcat<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="icons-splashscreens"><a href="#icons-splashscreens" class="header-anchor">#</a> Icons &amp; Splashscreens</h3> <p>It does exist a couple of solutions to generate it for your app:</p> <ul><li><a href="https://github.com/eberlitz/splashicon-generator" target="_blank" rel="noopener noreferrer">splashicon-generator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.npmjs.com/package/Cordova-gen-icon" target="_blank" rel="noopener noreferrer">Cordova-gen-icon<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.javascripttuts.com/how-to-automatically-generate-icons-and-splash-screens-with-the-ionic-cli/" target="_blank" rel="noopener noreferrer">Ionic CLI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/AlexDisler/Cordova-icon" target="_blank" rel="noopener noreferrer">Cordova-icon<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>You will find the example model icon/splash in <em>Cordova/model</em> so that running <a href="https://github.com/eberlitz/splashicon-generator" target="_blank" rel="noopener noreferrer">splashicon-generator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in the <em>Cordova</em> directory should work. <strong>Under windows</strong> take care to <a href="https://github.com/eberlitz/splashicon-generator/issues/23" target="_blank" rel="noopener noreferrer">this issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="plugins"><a href="#plugins" class="header-anchor">#</a> Plugins</h3> <p>We rely on a bunch of Cordova plugins so it might be useful to refer to their specific issues:</p> <ul><li><a href="https://github.com/apache/Cordova-plugin-device" target="_blank" rel="noopener noreferrer">Cordova-plugin-device<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/phonegap/phonegap-plugin-push" target="_blank" rel="noopener noreferrer">phonegap-plugin-push<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/apache/Cordova-plugin-geolocation" target="_blank" rel="noopener noreferrer">Cordova-plugin-geolocation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/crosswalk-project/Cordova-plugin-crosswalk-webview" target="_blank" rel="noopener noreferrer">Cordova-plugin-crosswalk-webview<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>The Crosswalk project seems to be <a href="https://crosswalk-project.org/blog/crosswalk-final-release.html" target="_blank" rel="noopener noreferrer">discontinued<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, as a consequence there are some issues with recent Cordova versions like <a href="https://github.com/apache/Cordova-android/pull/417" target="_blank" rel="noopener noreferrer">this<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. We will probably drop it soon.</p></div> <h2 id="modules-plugins"><a href="#modules-plugins" class="header-anchor">#</a> Modules/Plugins</h2> <p>Kalisio modules/plugins are <a href="https://docs.feathersjs.com/guides/advanced/creating-a-plugin.html" target="_blank" rel="noopener noreferrer">Feathers plugins<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, so you will find most of the required information in the linked Feathers documentation. Typically for development you will do the following for each required plugins so that the module is re-compiled on each file change:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> kdk
<span class="token function">yarn</span> <span class="token function">install</span>
<span class="token function">yarn</span> <span class="token function">watch</span>
</code></pre></div><h3 id="running-tests"><a href="#running-tests" class="header-anchor">#</a> Running tests</h3> <p>To run the module tests including linting and coverage : <code>$ yarn test</code></p> <p>To speed-up things simply run the tests with: <code>$ yarn mocha</code></p> <p>To speed-up things even more run a single test suite with: <code>$ yarn mocha -- --grep &quot;test suite name&quot;</code></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kdk/guides/development/setup.html" class="prev">
        Setup your environment
      </a></span> <span class="next"><a href="/kdk/guides/development/configure.html">
        Configure your app
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/kdk/assets/js/app.2979533d.js" defer></script><script src="/kdk/assets/js/2.b84e3a27.js" defer></script><script src="/kdk/assets/js/36.e9606c59.js" defer></script>
  </body>
</html>
