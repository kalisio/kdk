(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{581:function(e,t,o){"use strict";o.r(t);var s=o(13),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"mobile-configuration"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mobile-configuration"}},[e._v("#")]),e._v(" Mobile configuration")]),e._v(" "),o("h2",{attrs:{id:"ios"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#ios"}},[e._v("#")]),e._v(" IOs")]),e._v(" "),o("h3",{attrs:{id:"renew-ios-push-certificates"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#renew-ios-push-certificates"}},[e._v("#")]),e._v(" Renew iOS Push Certificates")]),e._v(" "),o("p",[e._v("Because the "),o("strong",[e._v("KDK")]),e._v(" relies on "),o("a",{attrs:{href:"https://aws.amazon.com/sns/?nc1=h_ls&whats-new-cards.sort-by=item.additionalFields.postDateTime&whats-new-cards.sort-order=desc",target:"_blank",rel:"noopener noreferrer"}},[e._v("SNS"),o("OutboundLink")],1),e._v(" to manage mobile push notifications, you must:")]),e._v(" "),o("ol",[o("li",[e._v("Create a new iOS push certificate")])]),e._v(" "),o("ul",[o("li",[e._v("Go to  "),o("a",{attrs:{href:"https://developer.apple.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://developer.apple.com/"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("Click "),o("strong",[e._v("Certificates, Identifiers & Profiles")])]),e._v(" "),o("li",[e._v("Click "),o("strong",[e._v("+")]),e._v(" on the right side of the "),o("strong",[e._v("Certificates")]),e._v(" label")]),e._v(" "),o("li",[e._v("Under Production section, select "),o("strong",[e._v("Apple Push Notification service SSL (Sandbox & Production)")]),e._v(" and click "),o("strong",[e._v("Continue")])]),e._v(" "),o("li",[e._v("Select the AppId (build Identifier of iOS application) and click "),o("strong",[e._v("Continue")])]),e._v(" "),o("li",[e._v("Upload you CSR file or create a new one if needed and click "),o("strong",[e._v("Continue")])]),e._v(" "),o("li",[e._v("Download the created certificate")])]),e._v(" "),o("ol",{attrs:{start:"2"}},[o("li",[e._v("Obtain the app private key (.p12 File) for SNS")])]),e._v(" "),o("ul",[o("li",[e._v("Open "),o("strong",[e._v("Keychain access")]),e._v(" by double clicking the create certificate in the previous step")]),e._v(" "),o("li",[e._v("Select the certificcate and export it")]),e._v(" "),o("li",[e._v("Accept the default "),o("strong",[e._v(".p12")]),e._v(" file format, provide a password and then click "),o("strong",[e._v("Save")]),e._v(".")])]),e._v(" "),o("ol",{attrs:{start:"3"}},[o("li",[e._v("Update your SNS Application platform")])]),e._v(" "),o("ul",[o("li",[e._v("Go to "),o("a",{attrs:{href:"https://console.aws.amazon.com/sns/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://console.aws.amazon.com/sns/"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("Click the corresponding application platform and click "),o("strong",[e._v("Modify")])]),e._v(" "),o("li",[e._v("Under certificate type, select "),o("strong",[e._v("iOS push certificate")])]),e._v(" "),o("li",[e._v("Under certificate, click to upload the created private key (.p12 file)")]),e._v(" "),o("li",[e._v("Under password, enter the password you assigned to the p12 file when exporting it")]),e._v(" "),o("li",[e._v("Click "),o("strong",[e._v("Load Credentials form file")])]),e._v(" "),o("li",[e._v("Click "),o("strong",[e._v("Save changes")])])]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[e._v("The following procedure must be performed for each flavor: "),o("code",[e._v("dev")]),e._v(", "),o("code",[e._v("test")]),e._v(" and "),o("code",[e._v("prod")]),e._v(".")])]),e._v(" "),o("h3",{attrs:{id:"debug-provisioning-profile"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#debug-provisioning-profile"}},[e._v("#")]),e._v(" Debug provisioning profile")]),e._v(" "),o("p",[e._v("In order to debug a cordova application you will need to use a develoment provisiong profile due to some "),o("a",{attrs:{href:"https://webkit.org/web-inspector/enabling-web-inspector/",target:"_blank",rel:"noopener noreferrer"}},[e._v("restrictions"),o("OutboundLink")],1),e._v(". You can do this directly through your Apple Developer account without a Mac/XCode but you will need a Certificate Signing Request first. To generate it you can use "),o("code",[e._v("openssl")]),e._v(":")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("openssl genrsa -out ios-dev.key 2048\nopenssl req -new -key ios-dev.key -out ios-dev.csr\n")])])]),o("p",[e._v("Use the following properties to generate the signing request:")]),e._v(" "),o("ul",[o("li",[e._v("C = Your country code e.g. FR")]),e._v(" "),o("li",[e._v("O = Entity name of your Apple Developer account e.g. KALISIO")]),e._v(" "),o("li",[e._v("OU = Team ID of your Apple Developer account e.g. V456HYJKLI")]),e._v(" "),o("li",[e._v("CN = Account Holder of your Apple Developer account e.g John Doe")]),e._v(" "),o("li",[e._v("Email Address = Email Address of your Apple Developer account")])]),e._v(" "),o("p",[e._v("Then, create an iOS development certificate with your Apple Developer account and the generated CSR.")]),e._v(" "),o("p",[e._v("Before creating the provisioning profile you will need to register the devices associated with it. Connect your device(s) and use iTunes to display the(ir) UDID in order to register it on your Apple Developer account.")]),e._v(" "),o("p",[e._v("Last, update your "),o("code",[e._v("build.json")]),e._v(" to change the "),o("code",[e._v("packageType")]),e._v(" and provisioning profile ID:")]),e._v(" "),o("div",{staticClass:"language-json extra-class"},[o("pre",{pre:!0,attrs:{class:"language-json"}},[o("code",[o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" \n  "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"ios"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"release"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"codeSignIdentity"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"iPhone Developer"')]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"provisioningProfile"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"xxx"')]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"developmentTeam"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"yyy"')]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"packageType"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"development"')]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),o("p",[e._v("If you'd like to check the content of a provisioning profile here is the command to extract the plist file from it: "),o("code",[e._v("openssl smime -inform der -verify -noverify -in file.mobileprovision")])]),e._v(" "),o("blockquote",[o("p",[e._v("Note that you cannot push applications with a development profile on the store so that you will need to install the IPA manually on your device using iTunes.")])]),e._v(" "),o("h3",{attrs:{id:"certificates-tips"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#certificates-tips"}},[e._v("#")]),e._v(" Certificates tips")]),e._v(" "),o("p",[e._v("If you need to create a PKCS12 file from a certificate you first need to convert it to PEM format:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("openssl x509 -inform der -in ios-dev.cer -out ios-dev.pem\nopenssl pkcs12 -export -out ios-dev.p12 -inkey ios-dev.key -in ios-dev.pem -passin pass:password -passout pass:password\n")])])]),o("p",[e._v("If you'd like to view the content of a certificate:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("openssl x509 -in ios-dev.cer -inform der -text\n// p12 file\nopenssl pkcs12 -in ios-dev.p12 -nodes -passin pass:password | openssl x509 -noout -subject\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);