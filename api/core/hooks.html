<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hooks | KDK</title>
    <meta name="description" content="The Kalisio Development Kit">
    <link rel="preload stylesheet" href="/kdk/assets/style.dd520849.css" as="style">
    
    <script type="module" src="/kdk/assets/app.4e7b0033.js"></script>
    <link rel="preload" href="/kdk/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/kdk/assets/chunks/framework.70a39c86.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/theme.bd6d9e85.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/c4Diagram-c0b17d02.79916c4d.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/flowDiagram-d6f8fe3a.82f8befe.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/flowDiagram-v2-58f49b84.fa3acf0e.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/erDiagram-dedf2781.ec13d150.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/gitGraphDiagram-e0ffc2d1.9313f9e1.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/ganttDiagram-088dbd90.2bdc9095.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/infoDiagram-64895a6e.c3d6747f.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/pieDiagram-3fca7ce7.9b16aeed.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/quadrantDiagram-0ca4be02.c40fd528.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/requirementDiagram-e13af0f0.0a1c7d78.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/sequenceDiagram-84aa38e3.fb9226f5.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/classDiagram-a8cc8886.a9258d20.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/classDiagram-v2-802a48d3.e97917d4.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/stateDiagram-9a586ac6.a950b59d.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/stateDiagram-v2-96f2b9df.b3e15885.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/journeyDiagram-adaa34f8.f7794f58.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/flowchart-elk-definition-56584a6c.8d7ced1b.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/timeline-definition-1a90b03d.f5976867.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/mindmap-definition-57868176.61163a54.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/sankeyDiagram-a7f8e230.578e9b57.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/virtual_mermaid-config.ade1a5ba.js">
    <link rel="modulepreload" href="/kdk/assets/api_core_hooks.md.8a3a72ed.lean.js">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/line-awesome/1.3.0/line-awesome/css/line-awesome.min.css" rel="stylesheet">
    <link rel="icon" href="https://s3.eu-central-1.amazonaws.com/kalisioscope/kdk/kdk-icon-64x64.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9d8abc1e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9d8abc1e data-v-7ad780c2><div class="VPNavBar has-sidebar" data-v-7ad780c2 data-v-f1abbc6e><div class="container" data-v-f1abbc6e><div class="title" data-v-f1abbc6e><div class="VPNavBarTitle has-sidebar" data-v-f1abbc6e data-v-2973dbb4><a class="title" href="/kdk/" data-v-2973dbb4><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://s3.eu-central-1.amazonaws.com/kalisioscope/kano/kano-icon-256x256.png" alt data-v-ab19afbb><!--]--><!--[-->KDK<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1abbc6e><div class="curtain" data-v-f1abbc6e></div><div class="content-body" data-v-f1abbc6e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f1abbc6e><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1abbc6e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/about/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>About</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/guides/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Guides</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/architecture/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Architecture</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/api/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/tips/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Tips</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/tools/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Tools</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1abbc6e data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-283b26e9 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f1abbc6e data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kalisio/kano" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f1abbc6e data-v-c8c2ae4b data-v-aa8de344><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aa8de344><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aa8de344><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aa8de344><div class="VPMenu" data-v-aa8de344 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-c8c2ae4b><div class="item appearance" data-v-c8c2ae4b><p class="label" data-v-c8c2ae4b>Appearance</p><div class="appearance-action" data-v-c8c2ae4b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-c8c2ae4b data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-c8c2ae4b><div class="item social-links" data-v-c8c2ae4b><div class="VPSocialLinks social-links-list" data-v-c8c2ae4b data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kalisio/kano" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1abbc6e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-9d8abc1e data-v-9e669cc1><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-9e669cc1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-9e669cc1><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-9e669cc1>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9e669cc1 data-v-24251f6f><button data-v-24251f6f>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-9d8abc1e data-v-ee2efba5><div class="curtain" data-v-ee2efba5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ee2efba5><span class="visually-hidden" id="sidebar-aria-label" data-v-ee2efba5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><!----><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/introduction.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 collapsible has-active" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><h2 class="text" data-v-bd01e0d5>core</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bd01e0d5><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-bd01e0d5><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/introduction.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/application.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Application</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/services.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Services</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/hooks.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Hooks</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/components.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Components</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/mixins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Mixins</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><h2 class="text" data-v-bd01e0d5>map</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bd01e0d5><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-bd01e0d5><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/introduction.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/services.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Services</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/hooks.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Hooks</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/components.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Components</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/mixins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Mixins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/map-mixins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Map Mixins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/globe-mixins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Globe Mixins</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-9d8abc1e data-v-3cf691b6><div class="VPDoc has-sidebar has-aside" data-v-3cf691b6 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><div class="aside" data-v-a3c25e27><div class="aside-curtain" data-v-a3c25e27></div><div class="aside-container" data-v-a3c25e27><div class="aside-content" data-v-a3c25e27><div class="VPDocAside" data-v-a3c25e27 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-3a6c4994><div class="content" data-v-3a6c4994><div class="outline-marker" data-v-3a6c4994></div><div class="outline-title" role="heading" aria-level="2" data-v-3a6c4994>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-3a6c4994><span class="visually-hidden" id="doc-outline-aria-label" data-v-3a6c4994> Table of Contents for current page </span><ul class="root" data-v-3a6c4994 data-v-463da30f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _kdk_api_core_hooks" data-v-a3c25e27><div><h1 id="hooks" tabindex="-1">Hooks <a class="header-anchor" href="#hooks" aria-label="Permalink to &quot;Hooks&quot;">​</a></h1><h2 id="query" tabindex="-1">Query <a class="header-anchor" href="#query" aria-label="Permalink to &quot;Query&quot;">​</a></h2><h3 id="marshallcomparisonquery-hook" tabindex="-1">marshallComparisonQuery(hook) <a class="header-anchor" href="#marshallcomparisonquery-hook" aria-label="Permalink to &quot;marshallComparisonQuery(hook)&quot;">​</a></h3><p>Converts from client/server side comparison types (e.g. numbers) to basic JS types, which is usually required when querying the database. Applies to <code>$lt</code>, <code>$lte</code>, <code>$gt</code> and <code>$gte</code> operators.</p><blockquote><p>Reads the query object to process from <code>hook.params.query</code></p></blockquote><h3 id="populateobject-options" tabindex="-1">populateObject(options) <a class="header-anchor" href="#populateobject-options" aria-label="Permalink to &quot;populateObject(options)&quot;">​</a></h3><blockquote><p>Return a hook function according to provided options</p></blockquote><p>Retrieve the target object(s) required by a subsequent operation from its service. The object(s) are populated in <code>hook.params</code> according to the following options:</p><ul><li><strong>serviceField</strong>: name of the field where to read the name of the target service on <code>hook.data</code> or <code>hook.params.query</code></li><li><strong>nameServiceAs</strong>: name of the field where to write the target service when found on <code>hook.params</code></li><li><strong>idField</strong>: name of the field where to read the <code>_id</code> of the target object on <code>hook.data</code> or <code>hook.params.query</code></li><li><strong>nameIdAs</strong>: name of the field where to write the target object when found on <code>hook.params</code></li><li><strong>throwOnNotFound</strong>: boolean indicating if an error should be raised when either the target service or object is not found</li></ul><blockquote><p>If when applied existing object(s) and/or service are found in <code>hook.params</code> they are reused as is (i.e. not updated)</p></blockquote><h3 id="populateobjects-options" tabindex="-1">populateObjects(options) <a class="header-anchor" href="#populateobjects-options" aria-label="Permalink to &quot;populateObjects(options)&quot;">​</a></h3><p>Similar to <a href="./HOOKS.MD.html#populateobjectshook">populateObject</a> except that if no object ID is found it will retrieve all objects from the target servic using <code>service.find({ query: {} })</code>.</p><h2 id="data-model" tabindex="-1">Data model <a class="header-anchor" href="#data-model" aria-label="Permalink to &quot;Data model&quot;">​</a></h2><h3 id="processperspectives-hook" tabindex="-1">processPerspectives(hook) <a class="header-anchor" href="#processperspectives-hook" aria-label="Permalink to &quot;processPerspectives(hook)&quot;">​</a></h3><blockquote><p>Usually used as a app-level hook</p></blockquote><p>Discard all perspectives declared on the model by default. Will for any to be included when using <a href="https://docs.feathersjs.com/api/databases/querying.html#select" target="_blank" rel="noreferrer"><code>$select</code></a>.</p><blockquote><p>Take care of a subset of perspective fields like when using <code>$select: [&#39;perspective.fieldName&#39;]</code></p></blockquote><h3 id="preventupdateperspectives-hook" tabindex="-1">preventUpdatePerspectives(hook) <a class="header-anchor" href="#preventupdateperspectives-hook" aria-label="Permalink to &quot;preventUpdatePerspectives(hook)&quot;">​</a></h3><blockquote><p>Usually used as a app-level hook</p></blockquote><p>When a perspectives is present in your data model you must disallow update it in order to avoid erasing it. Indeed, when requesting an object e.g. for edition they are not retrieved by default, su sending it back for update will erase the missing perspective fields.</p><h3 id="serialize-rules-options" tabindex="-1">serialize(rules, options) <a class="header-anchor" href="#serialize-rules-options" aria-label="Permalink to &quot;serialize(rules, options)&quot;">​</a></h3><blockquote><p>Return a hook function according to provided options</p></blockquote><p>The <strong>rules</strong> argument contains the list of transformations to be applied, it is an array of objects like the following:</p><ul><li><strong>source</strong>: the path of the source property to read value from</li><li><strong>target</strong>: the path of the target property where to write value to</li><li><strong>delete</strong>: boolean indicating if the source property should be deleted after transformation</li></ul><p>Modify the data structure of operation item (i.e. data/result in before/after hook) according to the following options:</p><ul><li><strong>throwOnNotFound</strong>: boolean indicating if an error should be raised when either the target service or object is not found</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { hooks } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core.api&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// Will transform hook data from { name: &#39;toto&#39; } to { profile: { name: &#39;toto&#39; } }</span></span>
<span class="line"><span style="color:#E1E4E8;">service.</span><span style="color:#B392F0;">hooks</span><span style="color:#E1E4E8;">({ before: { create: [ hooks.</span><span style="color:#B392F0;">serialize</span><span style="color:#E1E4E8;">([{ source: </span><span style="color:#9ECBFF;">&#39;name&#39;</span><span style="color:#E1E4E8;">, target: </span><span style="color:#9ECBFF;">&#39;profile.name&#39;</span><span style="color:#E1E4E8;">, delete: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> }], { throwOnNotFound: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> }) ] } })</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { hooks } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core.api&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// Will transform hook data from { name: &#39;toto&#39; } to { profile: { name: &#39;toto&#39; } }</span></span>
<span class="line"><span style="color:#24292E;">service.</span><span style="color:#6F42C1;">hooks</span><span style="color:#24292E;">({ before: { create: [ hooks.</span><span style="color:#6F42C1;">serialize</span><span style="color:#24292E;">([{ source: </span><span style="color:#032F62;">&#39;name&#39;</span><span style="color:#24292E;">, target: </span><span style="color:#032F62;">&#39;profile.name&#39;</span><span style="color:#24292E;">, delete: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> }], { throwOnNotFound: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> }) ] } })</span></span></code></pre></div><h3 id="processobjectids-hook" tabindex="-1">processObjectIDs(hook) <a class="header-anchor" href="#processobjectids-hook" aria-label="Permalink to &quot;processObjectIDs(hook)&quot;">​</a></h3><blockquote><p>Usually used as a app-level hook</p></blockquote><p>Transform any value bound to an <code>_id</code> like key from a string into a <a href="https://mongodb.github.io/node-mongodb-native/api-bson-generated/objectid.html" target="_blank" rel="noreferrer">Mongo ObjectID</a> on client queries.</p><blockquote><p>Take care of <code>$in</code>, <code>$nin</code> and <code>$or</code> operators recursively, as well as nested fields query like <code>field._id</code></p></blockquote><h3 id="convertobjectids-properties" tabindex="-1">convertObjectIDs(properties) <a class="header-anchor" href="#convertobjectids-properties" aria-label="Permalink to &quot;convertObjectIDs(properties)&quot;">​</a></h3><blockquote><p>Return a hook function according to provided property list</p></blockquote><p>Transform a known set of properties from strings into a <a href="https://mongodb.github.io/node-mongodb-native/api-bson-generated/objectid.html" target="_blank" rel="noreferrer">Mongo ObjectIDs</a> on client queries.</p><blockquote><p>Fields are searched on <code>hook.data</code> or <code>hook.params.query</code></p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { hooks } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core.api&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// Will convert data.participant and data.event to ObjectIDs</span></span>
<span class="line"><span style="color:#E1E4E8;">service.</span><span style="color:#B392F0;">hooks</span><span style="color:#E1E4E8;">({ before: { all: [ hooks.</span><span style="color:#B392F0;">convertObjectIDs</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;participant&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;event&#39;</span><span style="color:#E1E4E8;">]) ] } })</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { hooks } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core.api&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// Will convert data.participant and data.event to ObjectIDs</span></span>
<span class="line"><span style="color:#24292E;">service.</span><span style="color:#6F42C1;">hooks</span><span style="color:#24292E;">({ before: { all: [ hooks.</span><span style="color:#6F42C1;">convertObjectIDs</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;participant&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;event&#39;</span><span style="color:#24292E;">]) ] } })</span></span></code></pre></div><h3 id="convertdates-properties-asmoment" tabindex="-1">convertDates(properties, asMoment) <a class="header-anchor" href="#convertdates-properties-asmoment" aria-label="Permalink to &quot;convertDates(properties, asMoment)&quot;">​</a></h3><blockquote><p>Return a hook function according to provided property list and Date/moment object flag</p></blockquote><p>Transform a known set of properties from strings into a Data or <a href="https://momentjs.com/" target="_blank" rel="noreferrer">moment</a> object on client queries.</p><blockquote><p>Fields are searched on <code>hook.data</code> or <code>hook.params.query</code></p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { hooks } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core.api&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// Will convert data.expireAt to Date</span></span>
<span class="line"><span style="color:#E1E4E8;">service.</span><span style="color:#B392F0;">hooks</span><span style="color:#E1E4E8;">({ before: { create: [ hooks.</span><span style="color:#B392F0;">convertDates</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;expireAt&#39;</span><span style="color:#E1E4E8;">]) ] } })</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { hooks } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core.api&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// Will convert data.expireAt to Date</span></span>
<span class="line"><span style="color:#24292E;">service.</span><span style="color:#6F42C1;">hooks</span><span style="color:#24292E;">({ before: { create: [ hooks.</span><span style="color:#6F42C1;">convertDates</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;expireAt&#39;</span><span style="color:#24292E;">]) ] } })</span></span></code></pre></div><h3 id="setasdeleted-hook" tabindex="-1">setAsDeleted(hook) <a class="header-anchor" href="#setasdeleted-hook" aria-label="Permalink to &quot;setAsDeleted(hook)&quot;">​</a></h3><p>Flag the item as deleted when required by subsequent operations.</p><blockquote><p>Delete flag is stored in the <code>deleted</code> field</p></blockquote><h3 id="populatepreviousobject-hook" tabindex="-1">populatePreviousObject(hook) <a class="header-anchor" href="#populatepreviousobject-hook" aria-label="Permalink to &quot;populatePreviousObject(hook)&quot;">​</a></h3><blockquote><p>To be used a a before hook</p></blockquote><p>Retrieve the target object before an update or a patch operation.</p><blockquote><p>Previous object is stored in <code>hook.params.previousItem</code></p></blockquote><h3 id="setexpireafter-delayinseconds" tabindex="-1">setExpireAfter(delayInSeconds) <a class="header-anchor" href="#setexpireafter-delayinseconds" aria-label="Permalink to &quot;setExpireAfter(delayInSeconds)&quot;">​</a></h3><blockquote><p>To be used a a before hook Return a hook function according to provided delay</p></blockquote><p>Set the MongoDB <a href="https://docs.mongodb.com/manual/tutorial/expire-data/" target="_blank" rel="noreferrer">TTL</a> on the target object.</p><blockquote><p>TTL is stored in the <code>expireAt</code> field</p></blockquote><h2 id="service" tabindex="-1">Service <a class="header-anchor" href="#service" aria-label="Permalink to &quot;Service&quot;">​</a></h2><h3 id="ratelimit-options" tabindex="-1">rateLimit(options) <a class="header-anchor" href="#ratelimit-options" aria-label="Permalink to &quot;rateLimit(options)&quot;">​</a></h3><blockquote><p>To be used a before hook Return a hook function according to provided options</p></blockquote><p>Rate limit the call of a target service (and possibly operation) according to the following options:</p><ul><li><strong>tokensPerInterval</strong>: the number of allowed tokens in the given delay (1 service call = 1 token)</li><li><strong>interval</strong>: the delay to fill the bucket with the given number of tokens in</li><li><strong>operation</strong>: will only apply to this operation when given</li><li><strong>service</strong>: will only apply to this service when given (usefull when used as a app-level hook)</li></ul><blockquote><p>Rely on the <a href="https://en.wikipedia.org/wiki/Token_bucket" target="_blank" rel="noreferrer">token bucket algorithm</a></p></blockquote><h2 id="authorisations" tabindex="-1">Authorisations <a class="header-anchor" href="#authorisations" aria-label="Permalink to &quot;Authorisations&quot;">​</a></h2><h3 id="populatesubjects-hook" tabindex="-1">populateSubjects(hook) <a class="header-anchor" href="#populatesubjects-hook" aria-label="Permalink to &quot;populateSubjects(hook)&quot;">​</a></h3><p>Retrieve the target subject object(s) for an authorisation operation.</p><p>Specialises <a href="./HOOKS.MD.html#populateobjectshook">populateObjects</a> with the following options:</p><ul><li><strong>serviceField</strong>: <code>&#39;subjectsService&#39;</code></li><li><strong>idField</strong>: <code>&#39;subjects&#39;</code></li><li><strong>throwOnNotFound</strong>: <code>true</code></li></ul><h3 id="populateresource-hook" tabindex="-1">populateResource(hook) <a class="header-anchor" href="#populateresource-hook" aria-label="Permalink to &quot;populateResource(hook)&quot;">​</a></h3><p>Retrieve the target resource object for an authorisation operation.</p><p>Specialises the <a href="./HOOKS.MD.html#populateobjecthook">populateObject</a> with the following options:</p><ul><li><strong>serviceField</strong>: <code>&#39;resourcesService&#39;</code></li><li><strong>idField</strong>: <code>&#39;resource&#39;</code></li><li><strong>throwOnNotFound</strong>: <code>true</code></li></ul><h3 id="authorise-hook" tabindex="-1">authorise(hook) <a class="header-anchor" href="#authorise-hook" aria-label="Permalink to &quot;authorise(hook)&quot;">​</a></h3><blockquote><p>Usually used as a app-level hook</p></blockquote><p>Check permissions to access target resource object(s) for current user on the performed operation.</p><p>If the operation is authorised the <code>hook.params.authorised</code> flag will be set to <code>true</code>.</p><p>If you&#39;d like to force/unforce authorisation check use the <code>hook.params.checkAuthorisation</code> flag.</p><blockquote><p>By default check will only be performed when called from a client not from the server itself.</p></blockquote><h3 id="updateabilities-options" tabindex="-1">updateAbilities(options) <a class="header-anchor" href="#updateabilities-options" aria-label="Permalink to &quot;updateAbilities(options)&quot;">​</a></h3><blockquote><p>Return a hook function according to provided options</p></blockquote><p>Update cached subject abilities when permissions have changed according to the following options:</p><ul><li><strong>subjectAsItem</strong>: boolean indicating if the subject is the item of the current operation (e.g. when applied on the users service) or provided by <code>hook.params.user</code></li><li><strong>fetchSubject</strong>: boolean indicating if the subject object has to be entirely fetched from the underlying service (usefull when the item does not include permissions)</li></ul><h2 id="users" tabindex="-1">Users <a class="header-anchor" href="#users" aria-label="Permalink to &quot;Users&quot;">​</a></h2><h3 id="enforcepasswordpolicy-options" tabindex="-1">enforcePasswordPolicy(options) <a class="header-anchor" href="#enforcepasswordpolicy-options" aria-label="Permalink to &quot;enforcePasswordPolicy(options)&quot;">​</a></h3><blockquote><p>To be used a before hook Return a hook function according to provided options</p></blockquote><p>Check password policy when creating/updating the user&#39;s password according to the following options:</p><ul><li><strong>userAsItem</strong>: boolean indicating if the user is the item of the current operation (e.g. when applied on the users service) or provided by <code>hook.params.user</code></li><li><strong>passwordField</strong>: the name of the field containing the clear password on the item (defaults to <code>clearPassword</code>)</li><li><strong>previousPasswordsField</strong>: the name of the field containing the hashed password history on the item (defaults to <code>previousPasswords</code>)</li></ul><blockquote><p>For more information read about <a href="./../../guides/basics/step-by-step.html#configuring-a-kapp">password policy configuration</a>.</p></blockquote><h3 id="storepreviouspassword-options" tabindex="-1">storePreviousPassword(options) <a class="header-anchor" href="#storepreviouspassword-options" aria-label="Permalink to &quot;storePreviousPassword(options)&quot;">​</a></h3><blockquote><p>To be used a before hook Return a hook function according to provided options</p></blockquote><p>Update the password history when updating the user&#39;s password according to the following options:</p><ul><li><strong>userAsItem</strong>: boolean indicating if the user is the item of the current operation (e.g. when applied on the users service) or provided by <code>hook.params.user</code></li><li><strong>passwordField</strong>: the name of the field containing the current hashed password on the item (defaults to <code>password</code>)</li><li><strong>previousPasswordsField</strong>: the name of the field containing the hashed password history on the item (defaults to <code>previousPasswords</code>)</li></ul><blockquote><p>For more information read about <a href="./../../guides/basics/step-by-step.html#configuring-a-kapp">password policy configuration</a>.</p></blockquote><h3 id="generatepassword-hook" tabindex="-1">generatePassword(hook) <a class="header-anchor" href="#generatepassword-hook" aria-label="Permalink to &quot;generatePassword(hook)&quot;">​</a></h3><blockquote><p>To be used a before hook</p></blockquote><p>Generate a random password according to password policy (if any) and store it in the <strong>password</strong> item field.</p><blockquote><p>For more information read about <a href="./../../guides/basics/step-by-step.html#configuring-a-kapp">password policy configuration</a>.</p></blockquote><h2 id="organisations" tabindex="-1">Organisations <a class="header-anchor" href="#organisations" aria-label="Permalink to &quot;Organisations&quot;">​</a></h2><h3 id="createorganisationservices-hook" tabindex="-1">createOrganisationServices(hook) <a class="header-anchor" href="#createorganisationservices-hook" aria-label="Permalink to &quot;createOrganisationServices(hook)&quot;">​</a></h3><blockquote><p>To be used an after hook</p></blockquote><p>Create the database used to store organisation data and registered organisation services. Hook <code>result</code> is expected to be the organisation object and the organisation ID will be used as the database name.</p><h3 id="removeorganisationservices-hook" tabindex="-1">removeOrganisationServices(hook) <a class="header-anchor" href="#removeorganisationservices-hook" aria-label="Permalink to &quot;removeOrganisationServices(hook)&quot;">​</a></h3><blockquote><p>To be used an after hook</p></blockquote><p>Delete the database used to store organisation data and registered organisation services. Hook <code>result</code> is expected to be the organisation object.</p><h3 id="createorganisationauthorisations-hook" tabindex="-1">createOrganisationAuthorisations(hook) <a class="header-anchor" href="#createorganisationauthorisations-hook" aria-label="Permalink to &quot;createOrganisationAuthorisations(hook)&quot;">​</a></h3><blockquote><p>To be used an after hook</p></blockquote><p>Set default membership of the user as params to organisation owner after creating it. Hook <code>result</code> is expected to be the organisation object.</p><h3 id="removeorganisationauthorisations-hook" tabindex="-1">removeOrganisationAuthorisations(hook) <a class="header-anchor" href="#removeorganisationauthorisations-hook" aria-label="Permalink to &quot;removeOrganisationAuthorisations(hook)&quot;">​</a></h3><blockquote><p>To be used an after hook</p></blockquote><p>Removes membership of all users of the organisation after removing it. Hook <code>result</code> is expected to be the organisation object.</p><h2 id="groups" tabindex="-1">Groups <a class="header-anchor" href="#groups" aria-label="Permalink to &quot;Groups&quot;">​</a></h2><h3 id="creategroupauthorisations-hook" tabindex="-1">createGroupAuthorisations(hook) <a class="header-anchor" href="#creategroupauthorisations-hook" aria-label="Permalink to &quot;createGroupAuthorisations(hook)&quot;">​</a></h3><blockquote><p>To be used an after hook</p></blockquote><p>Set default membership of the user as params to group owner after creating it. Hook <code>result</code> is expected to be the group object.</p><h3 id="removegroupauthorisations-hook" tabindex="-1">removeGroupAuthorisations(hook) <a class="header-anchor" href="#removegroupauthorisations-hook" aria-label="Permalink to &quot;removeGroupAuthorisations(hook)&quot;">​</a></h3><blockquote><p>To be used an after hook</p></blockquote><p>Removes membership of all users of the group after removing it. Hook <code>result</code> is expected to be the group object.</p><h2 id="logs" tabindex="-1">Logs <a class="header-anchor" href="#logs" aria-label="Permalink to &quot;Logs&quot;">​</a></h2><h3 id="log-hook" tabindex="-1">log(hook) <a class="header-anchor" href="#log-hook" aria-label="Permalink to &quot;log(hook)&quot;">​</a></h3><blockquote><p>Usually used as a app-level hook</p></blockquote><ul><li>Log error for each hook in error with error log level.</li><li>Log information for each hook ran with verbose (respectively debug for client) log level.</li><li>Log detailed information for each hook ran with debug (respectively trace for client) log level.</li></ul><h2 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h2><h3 id="emit-hook" tabindex="-1">emit(hook) <a class="header-anchor" href="#emit-hook" aria-label="Permalink to &quot;emit(hook)&quot;">​</a></h3><blockquote><p>Usually used as a app-level hook</p></blockquote><p>Emit an event named <code>{hook_type}Hook</code> (e.g. <code>beforeHook</code> or <code>afterHook</code>) for each hook ran, the payload of the event being the hook object.</p></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-a2d931e4><!--[--><!--]--><!----><nav class="prev-next" data-v-a2d931e4><div class="pager" data-v-a2d931e4><a class="pager-link prev" href="/kdk/api/core/services.html" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Previous page</span><span class="title" data-v-a2d931e4>Services</span></a></div><div class="pager" data-v-a2d931e4><a class="pager-link next" href="/kdk/api/core/components.html" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Next page</span><span class="title" data-v-a2d931e4>Components</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-9d8abc1e data-v-e4279f1c><div class="container" data-v-e4279f1c><!----><p class="copyright" data-v-e4279f1c>MIT Licensed | Copyright © 2017-20xx Kalisio</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api_core_introduction.md\":\"04e59c7f\",\"api_core_mixins.md\":\"b331782e\",\"api_map_map-mixins.md\":\"8c396476\",\"api_core_application.md\":\"65ca89be\",\"architecture_component-view.md\":\"36feb425\",\"architecture_data-model-view.md\":\"28ceaa18\",\"architecture_introduction.md\":\"585ae33b\",\"architecture_main-concepts.md\":\"53491173\",\"guides_basics_introduction.md\":\"059722c4\",\"guides_development_configure.md\":\"aea5d40e\",\"guides_development_deploy.md\":\"8efae057\",\"guides_development_develop.md\":\"78c86703\",\"guides_development_publish.md\":\"56537144\",\"guides_development_setup.md\":\"f8f42af3\",\"index.md\":\"f7c86556\",\"tips_app-development.md\":\"eeb6f84e\",\"tips_introduction.md\":\"b1bb4966\",\"tips_mobile-configuration.md\":\"3df82590\",\"tools_browsers.md\":\"c5b780c0\",\"tools_db.md\":\"69d39df2\",\"tools_documentation.md\":\"7c698f3f\",\"tools_infrastructure.md\":\"39b46f36\",\"about_license.md\":\"bb6fb7fa\",\"api_core_components.md\":\"aa0faaad\",\"tools_introduction.md\":\"94e34eab\",\"about_roadmap.md\":\"d3c0c01a\",\"api_core_services.md\":\"7bde3f00\",\"about_contributing.md\":\"b84a75ce\",\"api_map_mixins.md\":\"8a477568\",\"api_map_services.md\":\"11da6d57\",\"api_introduction.md\":\"b47393e6\",\"api_map_components.md\":\"8ff8f693\",\"api_map_globe-mixins.md\":\"d3301eb0\",\"api_map_introduction.md\":\"237ef1f2\",\"about_introduction.md\":\"d4b7911f\",\"architecture_global-architecture.md\":\"2e0fa195\",\"guides_introduction.md\":\"881f2716\",\"guides_development_test.md\":\"5d69d9de\",\"about_contact.md\":\"1380241d\",\"api_map_hooks.md\":\"39132754\",\"tools_cli.md\":\"89bf136c\",\"api_core_hooks.md\":\"8a3a72ed\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"KDK\",\"description\":\"The Kalisio Development Kit\",\"base\":\"/kdk/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"https://s3.eu-central-1.amazonaws.com/kalisioscope/kano/kano-icon-256x256.png\",\"jwt\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkZXYua2FsaXNpby54eXoiLCJpc3MiOiJrYWxpc2lvIn0.CGvJwPPkuiFvNzo3zUBb-_vwD0CKbUfm7w7TkCY-Ts4\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/kalisio/kano\"}],\"nav\":[{\"text\":\"About\",\"link\":\"/about/introduction\"},{\"text\":\"Guides\",\"link\":\"/guides/introduction\"},{\"text\":\"Architecture\",\"link\":\"/architecture/introduction\"},{\"text\":\"API\",\"link\":\"/api/introduction\"},{\"text\":\"Tips\",\"link\":\"/tips/introduction\"},{\"text\":\"Tools\",\"link\":\"/tools/introduction\"}],\"sidebar\":{\"/about/\":[{\"text\":\"About\",\"link\":\"/about/introduction\"},{\"text\":\"Roadmap\",\"link\":\"/about/roadmap\"},{\"text\":\"Contributing\",\"link\":\"/about/contributing\"},{\"text\":\"License\",\"link\":\"/about/license\"},{\"text\":\"Contact\",\"link\":\"/about/contact\"}],\"/guides/\":[{\"text\":\"Guides\",\"link\":\"/guides/introduction\"},{\"text\":\"The Basics\",\"collapsed\":true,\"items\":[{\"text\":\"Introduction to KDK\",\"link\":\"/guides/basics/introduction\"}]},{\"text\":\"Development\",\"collapsed\":true,\"items\":[{\"text\":\"Setup your environment\",\"link\":\"/guides/development/setup\"},{\"text\":\"Develop with KDK\",\"link\":\"/guides/development/develop\"},{\"text\":\"Testing with KDK\",\"link\":\"/guides/development/test\"},{\"text\":\"Configure your app\",\"link\":\"/guides/development/configure\"},{\"text\":\"Deploy your app\",\"link\":\"/guides/development/deploy\"},{\"text\":\"Publish with KDK\",\"link\":\"/guides/development/publish\"}]}],\"/architecture/\":[{\"text\":\"Architecture\",\"link\":\"/architecture/introduction\"},{\"text\":\"Main concepts\",\"link\":\"/architecture/main-concepts\"},{\"text\":\"Global architecture\",\"link\":\"/architecture/global-architecture\"},{\"text\":\"Component view\",\"link\":\"/architecture/component-view\"},{\"text\":\"Data model-oriented view of the architecture\",\"link\":\"/architecture/data-model-view\"}],\"/api/\":[{\"text\":\"API\",\"link\":\"/api/introduction\"},{\"text\":\"core\",\"collapsed\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/api/core/introduction\"},{\"text\":\"Application\",\"link\":\"/api/core/application\"},{\"text\":\"Services\",\"link\":\"/api/core/services\"},{\"text\":\"Hooks\",\"link\":\"/api/core/hooks\"},{\"text\":\"Components\",\"link\":\"/api/core/components\"},{\"text\":\"Mixins\",\"link\":\"/api/core/mixins\"}]},{\"text\":\"map\",\"collapsed\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/api/map/introduction\"},{\"text\":\"Services\",\"link\":\"/api/map/services\"},{\"text\":\"Hooks\",\"link\":\"/api/map/hooks\"},{\"text\":\"Components\",\"link\":\"/api/map/components\"},{\"text\":\"Mixins\",\"link\":\"/api/map/mixins\"},{\"text\":\"Map Mixins\",\"link\":\"/api/map/map-mixins\"},{\"text\":\"Globe Mixins\",\"link\":\"/api/map/globe-mixins\"}]}],\"/tips/\":[{\"text\":\"Tips\",\"link\":\"/tips/introduction\"},{\"text\":\"Application development\",\"link\":\"/tips/app-development\"},{\"text\":\"Mobile configuration\",\"link\":\"/tips/mobile-configuration\"}],\"/tools/\":[{\"text\":\"Tools\",\"link\":\"/tools/introduction\"},{\"text\":\"Command-line tools\",\"link\":\"/tools/cli\"},{\"text\":\"Browser-based tools\",\"link\":\"/tools/browsers\"},{\"text\":\"Documentation\",\"link\":\"/tools/documentation\"},{\"text\":\"Infrastructure\",\"link\":\"/tools/infrastructure\"}]},\"footer\":{\"copyright\":\"MIT Licensed | Copyright © 2017-20xx Kalisio\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>