<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Application | KDK</title>
    <meta name="description" content="The Kalisio Development Kit">
    <link rel="preload stylesheet" href="/kdk/assets/style.dd520849.css" as="style">
    
    <script type="module" src="/kdk/assets/app.4e7b0033.js"></script>
    <link rel="preload" href="/kdk/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/kdk/assets/chunks/framework.70a39c86.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/theme.bd6d9e85.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/c4Diagram-c0b17d02.79916c4d.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/flowDiagram-d6f8fe3a.82f8befe.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/flowDiagram-v2-58f49b84.fa3acf0e.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/erDiagram-dedf2781.ec13d150.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/gitGraphDiagram-e0ffc2d1.9313f9e1.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/ganttDiagram-088dbd90.2bdc9095.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/infoDiagram-64895a6e.c3d6747f.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/pieDiagram-3fca7ce7.9b16aeed.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/quadrantDiagram-0ca4be02.c40fd528.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/requirementDiagram-e13af0f0.0a1c7d78.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/sequenceDiagram-84aa38e3.fb9226f5.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/classDiagram-a8cc8886.a9258d20.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/classDiagram-v2-802a48d3.e97917d4.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/stateDiagram-9a586ac6.a950b59d.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/stateDiagram-v2-96f2b9df.b3e15885.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/journeyDiagram-adaa34f8.f7794f58.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/flowchart-elk-definition-56584a6c.8d7ced1b.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/timeline-definition-1a90b03d.f5976867.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/mindmap-definition-57868176.61163a54.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/sankeyDiagram-a7f8e230.578e9b57.js">
    <link rel="modulepreload" href="/kdk/assets/chunks/virtual_mermaid-config.ade1a5ba.js">
    <link rel="modulepreload" href="/kdk/assets/api_core_application.md.8d1c4bf9.lean.js">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/line-awesome/1.3.0/line-awesome/css/line-awesome.min.css" rel="stylesheet">
    <link rel="icon" href="https://s3.eu-central-1.amazonaws.com/kalisioscope/kdk/kdk-icon-64x64.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9d8abc1e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9d8abc1e data-v-7ad780c2><div class="VPNavBar has-sidebar" data-v-7ad780c2 data-v-f1abbc6e><div class="container" data-v-f1abbc6e><div class="title" data-v-f1abbc6e><div class="VPNavBarTitle has-sidebar" data-v-f1abbc6e data-v-2973dbb4><a class="title" href="/kdk/" data-v-2973dbb4><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://s3.eu-central-1.amazonaws.com/kalisioscope/kano/kano-icon-256x256.png" alt data-v-ab19afbb><!--]--><!--[-->KDK<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1abbc6e><div class="curtain" data-v-f1abbc6e></div><div class="content-body" data-v-f1abbc6e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f1abbc6e><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1abbc6e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/about/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>About</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/guides/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Guides</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/architecture/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Architecture</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/api/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/tips/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Tips</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/kdk/tools/introduction.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Tools</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1abbc6e data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-283b26e9 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f1abbc6e data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kalisio/kano" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f1abbc6e data-v-c8c2ae4b data-v-aa8de344><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aa8de344><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aa8de344><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aa8de344><div class="VPMenu" data-v-aa8de344 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-c8c2ae4b><div class="item appearance" data-v-c8c2ae4b><p class="label" data-v-c8c2ae4b>Appearance</p><div class="appearance-action" data-v-c8c2ae4b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-c8c2ae4b data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-c8c2ae4b><div class="item social-links" data-v-c8c2ae4b><div class="VPSocialLinks social-links-list" data-v-c8c2ae4b data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kalisio/kano" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1abbc6e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-9d8abc1e data-v-9e669cc1><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-9e669cc1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-9e669cc1><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-9e669cc1>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9e669cc1 data-v-24251f6f><button data-v-24251f6f>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-9d8abc1e data-v-ee2efba5><div class="curtain" data-v-ee2efba5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ee2efba5><span class="visually-hidden" id="sidebar-aria-label" data-v-ee2efba5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><!----><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/introduction.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 collapsible has-active" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><h2 class="text" data-v-bd01e0d5>core</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bd01e0d5><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-bd01e0d5><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/introduction.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/application.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Application</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/services.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Services</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/hooks.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Hooks</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/components.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Components</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/core/mixins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Mixins</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><h2 class="text" data-v-bd01e0d5>map</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bd01e0d5><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-bd01e0d5><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/introduction.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/services.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Services</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/hooks.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Hooks</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/components.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Components</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/mixins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Mixins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/map-mixins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Map Mixins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/kdk/api/map/globe-mixins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Globe Mixins</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-9d8abc1e data-v-3cf691b6><div class="VPDoc has-sidebar has-aside" data-v-3cf691b6 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><div class="aside" data-v-a3c25e27><div class="aside-curtain" data-v-a3c25e27></div><div class="aside-container" data-v-a3c25e27><div class="aside-content" data-v-a3c25e27><div class="VPDocAside" data-v-a3c25e27 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-3a6c4994><div class="content" data-v-3a6c4994><div class="outline-marker" data-v-3a6c4994></div><div class="outline-title" role="heading" aria-level="2" data-v-3a6c4994>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-3a6c4994><span class="visually-hidden" id="doc-outline-aria-label" data-v-3a6c4994> Table of Contents for current page </span><ul class="root" data-v-3a6c4994 data-v-463da30f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _kdk_api_core_application" data-v-a3c25e27><div><h1 id="application" tabindex="-1">Application <a class="header-anchor" href="#application" aria-label="Permalink to &quot;Application&quot;">​</a></h1><p>KDK <a href="https://github.com/kalisio/kdk/core" target="_blank" rel="noreferrer">core</a> offers a thin layer on top of the <a href="https://docs.feathersjs.com/api/application.html" target="_blank" rel="noreferrer">FeathersJS application</a> mainly to simplify the creation and configuration of services. It also provide some helpful concepts and utilities to structure your application right.</p><h2 id="application-api" tabindex="-1">Application API <a class="header-anchor" href="#application-api" aria-label="Permalink to &quot;Application API&quot;">​</a></h2><h3 id="backend-setup" tabindex="-1">Backend setup <a class="header-anchor" href="#backend-setup" aria-label="Permalink to &quot;Backend setup&quot;">​</a></h3><p>KDK <a href="https://github.com/kalisio/kdk/core" target="_blank" rel="noreferrer">core</a> provides a helper to quickly initialize what is required for your <a href="https://docs.feathersjs.com/api/application.html" target="_blank" rel="noreferrer">server application</a>. The core module provides the ability to initialize a new KDK application instance, attach it to the configured database and setup authentication:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { kalisio } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core.api&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Initialize app</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> app </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">kalisio</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#6A737D;">// Connect to DB</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> app.db.</span><span style="color:#B392F0;">connect</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { kalisio } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core.api&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Initialize app</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> app </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">kalisio</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#6A737D;">// Connect to DB</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> app.db.</span><span style="color:#6F42C1;">connect</span><span style="color:#24292E;">()</span></span></code></pre></div><h3 id="client-setup" tabindex="-1">Client setup <a class="header-anchor" href="#client-setup" aria-label="Permalink to &quot;Client setup&quot;">​</a></h3><p>KDK <a href="https://github.com/kalisio/kdk/core" target="_blank" rel="noreferrer">core</a> provides a helper to quickly initialize what is required for your <a href="https://docs.feathersjs.com/api/client.html" target="_blank" rel="noreferrer">client application</a>.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { kalisio } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core.client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Initialize API wrapper</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> api </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">kalisio</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#6A737D;">// Retrieve a given service</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> users </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> api.</span><span style="color:#B392F0;">getService</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;users&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { kalisio } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core.client&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Initialize API wrapper</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> api </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">kalisio</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#6A737D;">// Retrieve a given service</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> users </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> api.</span><span style="color:#6F42C1;">getService</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;users&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><h3 id="isomorphic-features" tabindex="-1">Isomorphic features <a class="header-anchor" href="#isomorphic-features" aria-label="Permalink to &quot;Isomorphic features&quot;">​</a></h3><p>KDK provides some isomorphic features like the <a href="./application.html#permissions">permission system</a>.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { permissions } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core.common&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">...</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { permissions } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core.common&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">...</span></span></code></pre></div><h3 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h3><p>Any value from the backend <a href="./../../guides/basics/step-by-step.html#configuring-a-kapp">configuration</a> can be directly retrieved on the application object like this:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">value</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> app.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;property&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">value</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> app.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;property&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><p>Any value from the frontend <a href="./../../guides/basics/step-by-step.html#configuring-a-kapp">configuration</a> can be directly retrieved by importing it like this:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> config </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;config&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">value</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> config.property</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> config </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;config&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">value</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> config.property</span></span></code></pre></div><blockquote><p>Under the hood <a href="https://github.com/feathersjs/configuration" target="_blank" rel="noreferrer">FeathersJS configuration module</a> and <a href="https://github.com/lorenwest/node-config" target="_blank" rel="noreferrer">node-config</a> are used to manage configuration so that any related concept to organise your configuration according to deployment options can be used.</p></blockquote><h3 id="getservice-name-context" tabindex="-1">getService(name, context) <a class="header-anchor" href="#getservice-name-context" aria-label="Permalink to &quot;getService(name, context)&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>backend/client</p></div><p>Retrieve the given service by name, should replace <a href="https://docs.feathersjs.com/api/application.html#servicepath" target="_blank" rel="noreferrer">Feathers service method</a> so that you are abstracted away from the internal service path (i.e. API prefix and context ID) and only refer to it by its &quot;usual&quot; name.</p><blockquote><p>On the client side this is also used to instanciate the service on first call.</p></blockquote><h3 id="createservice-name-options" tabindex="-1">createService(name, options) <a class="header-anchor" href="#createservice-name-options" aria-label="Permalink to &quot;createService(name, options)&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>backend only</p></div><p>Create a new service attached to the application by name and given a set of options:</p><ul><li><strong>context</strong>: the context object the service will be contextual to, if given the internal service path will be <code>contextId/serviceName</code></li><li><strong>modelsPath</strong>: directory where to find model declaration (optional), if provided will initiate a DB service based on the model file</li><li><strong>servicesPath</strong>: directory where to find service declaration (optional), if provided for a non-DB service will initiate a service based on the returned object or constructor function from the service module, for a DB service it will apply the provided mixin object coming from the service module</li><li><strong>fileName</strong>: by default the function will look to a model/service file named after the service name, this option allows to override it</li><li><strong>events</strong>: <a href="https://docs.feathersjs.com/api/events.html#service-events" target="_blank" rel="noreferrer">service events</a> to be used by the service</li><li><strong>perspectives</strong>: the <em>perspectives</em> of the model that will not be retrieved by default except if <a href="https://docs.feathersjs.com/api/databases/querying.html#select" target="_blank" rel="noreferrer"><code>$select</code></a> is used</li><li><strong>proxy</strong>: options for a service to be proxied by the created service <ul><li><strong>service</strong>: the name of the proxied service</li><li><strong>params</strong>: the parameters to be used when calling the proxied service, either an object or a function returning the object and applied on the input parameters</li><li><strong>id</strong>: the id map function to be used when calling the proxied service, will be applied on the input id</li><li><strong>data</strong>: the data map function to be used when calling the proxied service, will be applied on the input the object</li><li><strong>result</strong>: the result map to be used when calling the proxied service, will be applied on the returning the object(s)</li></ul></li><li><strong>memory</strong>: instead of generating a DB adapter service will create a mock with a <a href="https://github.com/feathersjs/feathers/tree/dove/packages/memory" target="_blank" rel="noreferrer">@feathersjs/memory</a> service instead with provided options</li></ul><p>Depending on the options you have to create a <em>models</em> and <em>services</em> directories containing the required files to declare your services, e.g. your folder/file hierarchy should look like this:</p><ul><li><em>index.js</em>: contains a default function instantiating all the services</li><li><em>models</em> : contains one file per database adapter you&#39;d like to support <ul><li><em>serviceName.model.mongodb.js</em> : exporting the data model managed by your service in <a href="https://docs.feathersjs.com/api/databases/mongodb.html" target="_blank" rel="noreferrer">MongoDB</a>,</li><li><em>serviceName.model.levelup.js</em> : exporting the data model managed by your service in <a href="https://github.com/feathersjs/feathers-levelup" target="_blank" rel="noreferrer">LevelUP</a>,</li><li>...</li></ul></li><li><em>services</em><ul><li><em>serviceName</em><ul><li><em>serviceName.hooks.js</em> : exporting the <a href="https://docs.feathersjs.com/api/hooks.html" target="_blank" rel="noreferrer">hooks</a> of your service,</li><li><em>serviceName.filters.js</em> : exporting the <a href="https://docs.feathersjs.com/api/events.html#event-filtering" target="_blank" rel="noreferrer">filters</a> of your service,</li><li><em>serviceName.service.js</em> : exporting the specific mixin or mixin constructor function associated to your service (optional)</li></ul></li></ul></li></ul><h2 id="application-hooks" tabindex="-1">Application Hooks <a class="header-anchor" href="#application-hooks" aria-label="Permalink to &quot;Application Hooks&quot;">​</a></h2><p>The following <a href="./HOOKS.MD.html">hooks</a> are usually globally executed on the application:</p><p><img src="/kdk/assets/application-hooks.cee4ca07.svg" alt="Application hooks"></p><h2 id="permissions" tabindex="-1">Permissions <a class="header-anchor" href="#permissions" aria-label="Permalink to &quot;Permissions&quot;">​</a></h2><p>We provide an isomorphic permissions management system so that user access can be checked:</p><ul><li>at backend level, typically when accessing the API</li><li>at frontend level, typically before constructing the UI</li></ul><p>The primary level of a permissions management system is a <a href="https://en.wikipedia.org/wiki/Role-based_access_control" target="_blank" rel="noreferrer">Role Based Access Control</a> (RBAC), which relies on the grouping of users into various roles which are then assigned rights. A right is typically made up of an action and a resource type, e.g. role manager can create (action) documents (resource type). The KDK provide the following default roles, ordered by privilege level:</p><ul><li><code>Roles.member</code>, usually a &quot;standard&quot; user</li><li><code>Roles.manager</code>, usually a &quot;privileged&quot; user</li><li><code>Roles.owner</code>, usually a &quot;superuser&quot; or &quot;administrator&quot;</li></ul><p>The secondary level of a permissions management system is an <a href="https://en.wikipedia.org/wiki/Attribute-based_access_control" target="_blank" rel="noreferrer">Attribute Based Access Control</a> (ABAC), which allows to enforce authorization decisions based on any attribute accessible to your application and not just the user&#39;s role. Let&#39;s say we&#39;d like to give a specific user access to a specific resource and this resource is created/removed dynamically at run time by your app. RBAC is a legacy access control that usually fails in this kind of dynamic environments. ABAC is more flexible and powerful to support these use cases, and technically ABAC is also capable of enforcing RBAC. This is the reason why the KDK implements this type of access control.</p><p>The <code>create</code>, respectively <code>remove</code>, operation on the <code>authorisations</code> service will:</p><ol><li>add, respectively remove, a privilege or permission level (e.g. <code>owner</code> or <code>manager</code>)</li><li>for a subject (i.e. a user in most case but it could be generalized)</li><li>on a resource (e.g. an organisation).</li></ol><p>The permission will be stored directly on the subject (i.e. user) object so that they are already available once authenticated. They will be organized by resource types (what is called a <em>scope</em>) so that a user being the owner of the <em>feathers</em> organisation will be structured like this (<em>organisations</em> is an <em>authorization scope</em> on the user object):</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">email</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;xxx&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;xxx&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">organisations</span><span style="color:#E1E4E8;">: [{</span></span>
<span class="line"><span style="color:#E1E4E8;">    name: </span><span style="color:#9ECBFF;">&#39;feathers&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    _id: </span><span style="color:#79B8FF;">ID</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    permissions: </span><span style="color:#9ECBFF;">&#39;owner&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }]</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">email</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;xxx&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;xxx&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">organisations</span><span style="color:#24292E;">: [{</span></span>
<span class="line"><span style="color:#24292E;">    name: </span><span style="color:#032F62;">&#39;feathers&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    _id: </span><span style="color:#005CC5;">ID</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    permissions: </span><span style="color:#032F62;">&#39;owner&#39;</span></span>
<span class="line"><span style="color:#24292E;">  }]</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>A hook system allows to register the different rules that should be enforced, <a href="https://stalniy.github.io/casl/" target="_blank" rel="noreferrer">CASL</a> is used under-the-hood:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { permissions } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core.common&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">permissions.defineAbilities.</span><span style="color:#B392F0;">registerHook</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">subject</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">can</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">cannot</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (subject </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> subject._id) { </span><span style="color:#6A737D;">// Subject can be null on anonymous access</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// Anyone can create new organisations</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">can</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;service&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;organisations&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">can</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;create&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;organisations&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (subject.organisations) { </span><span style="color:#6A737D;">// Check for authorisation scope</span></span>
<span class="line"><span style="color:#E1E4E8;">      subject.organisations.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">organisation</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (organisation._id) {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">// Get user privilege level for this organisation</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">role</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> permissions.Roles[organisation.permissions]</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (role </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> Roles.member) { </span><span style="color:#6A737D;">// Members have read-only access to organisation</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">can</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;read&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;organisations&#39;</span><span style="color:#E1E4E8;">, { _id: organisation._id })</span></span>
<span class="line"><span style="color:#E1E4E8;">          }</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (role </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> Roles.manager) { </span><span style="color:#6A737D;">// Manager have read-write access to organisation</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">can</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;update&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;organisations&#39;</span><span style="color:#E1E4E8;">, { _id: organisation._id })</span></span>
<span class="line"><span style="color:#E1E4E8;">          }</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (role </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> Roles.owner) { </span><span style="color:#6A737D;">// Owners have full access to organisation</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">can</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;remove&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;organisations&#39;</span><span style="color:#E1E4E8;">, { _id: organisation._id })</span></span>
<span class="line"><span style="color:#E1E4E8;">          }</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { permissions } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core.common&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">permissions.defineAbilities.</span><span style="color:#6F42C1;">registerHook</span><span style="color:#24292E;">((</span><span style="color:#E36209;">subject</span><span style="color:#24292E;">, </span><span style="color:#E36209;">can</span><span style="color:#24292E;">, </span><span style="color:#E36209;">cannot</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (subject </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> subject._id) { </span><span style="color:#6A737D;">// Subject can be null on anonymous access</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// Anyone can create new organisations</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">can</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;service&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;organisations&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">can</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;create&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;organisations&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (subject.organisations) { </span><span style="color:#6A737D;">// Check for authorisation scope</span></span>
<span class="line"><span style="color:#24292E;">      subject.organisations.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(</span><span style="color:#E36209;">organisation</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (organisation._id) {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// Get user privilege level for this organisation</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">role</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> permissions.Roles[organisation.permissions]</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (role </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> Roles.member) { </span><span style="color:#6A737D;">// Members have read-only access to organisation</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">can</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;read&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;organisations&#39;</span><span style="color:#24292E;">, { _id: organisation._id })</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (role </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> Roles.manager) { </span><span style="color:#6A737D;">// Manager have read-write access to organisation</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">can</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;update&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;organisations&#39;</span><span style="color:#24292E;">, { _id: organisation._id })</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (role </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> Roles.owner) { </span><span style="color:#6A737D;">// Owners have full access to organisation</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">can</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;remove&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;organisations&#39;</span><span style="color:#24292E;">, { _id: organisation._id })</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>The <code>can/cannot</code> method requires three arguments to define permissions:</p><ul><li>the first one is the action or the set of actions you&#39;re setting the permission for <ul><li><code>service</code> can be used to completely block access to a given service, otherwise specify either <code>get</code>, <code>find</code>, <code>create</code>, <code>update</code>, <code>patch</code>, or <code>remove</code> service-level operation</li><li><code>read</code> is an alias for <code>get</code> + <code>find</code></li><li><code>all</code> is an alias for <code>read</code> + <code>create</code> + <code>update</code> + <code>remove</code></li><li><code>update</code> is an alias for <code>patch</code> as objects are usually only patched due to <a href="./../README.html#data-model">perspectives</a></li></ul></li><li>the second one is the name of the resource type (i.e. usually the service) you&#39;re setting it on,</li><li>the third one is the conditions to further restrict which resources the permission applies to.</li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>It is important to only use database fields for the conditions so it can be used for fetching records.</p></div><p>Once registered, rules can be enforced at API level using the <code>authorise</code> application-level hook:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { hooks } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">hooks</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  before: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    all: [hooks.authorise]</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { hooks } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">app.</span><span style="color:#6F42C1;">hooks</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  before: {</span></span>
<span class="line"><span style="color:#24292E;">    all: [hooks.authorise]</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>You will find implementation details <a href="https://blog.feathersjs.com/access-control-strategies-with-feathersjs-72452268739d" target="_blank" rel="noreferrer">in this article</a>.</p><h2 id="client-ecosystem" tabindex="-1">Client ecosystem <a class="header-anchor" href="#client-ecosystem" aria-label="Permalink to &quot;Client ecosystem&quot;">​</a></h2><h3 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h3><p>We use the <a href="https://alligator.io/vuejs/global-event-bus/" target="_blank" rel="noreferrer">global event bus</a> provided by Quasar to exchange events between independent components in the app:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Events } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;quasar&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Register callback on event</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">myCallback</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">object</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> { </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">Events.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;myEvent&#39;</span><span style="color:#E1E4E8;">, myCallback)</span></span>
<span class="line"><span style="color:#6A737D;">// Unregister it</span></span>
<span class="line"><span style="color:#E1E4E8;">Events.</span><span style="color:#B392F0;">off</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;myEvent&#39;</span><span style="color:#E1E4E8;">, myCallback)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Events } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;quasar&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Register callback on event</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">myCallback</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">object</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> { </span><span style="color:#D73A49;">...</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">Events.</span><span style="color:#6F42C1;">on</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;myEvent&#39;</span><span style="color:#24292E;">, myCallback)</span></span>
<span class="line"><span style="color:#6A737D;">// Unregister it</span></span>
<span class="line"><span style="color:#24292E;">Events.</span><span style="color:#6F42C1;">off</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;myEvent&#39;</span><span style="color:#24292E;">, myCallback)</span></span></code></pre></div><blockquote><p>The event bus is notably used to be aware of state changes in the global store (see hereafter)</p></blockquote><h3 id="store" tabindex="-1">Store <a class="header-anchor" href="#store" aria-label="Permalink to &quot;Store&quot;">​</a></h3><p>A component-based system like the one offered by KDK has its local and global states. Each component has its local data, but the application has a global application state that can be accessed by any component of the application. This is the purpose of the <strong>Store</strong> singleton object: allow to get or update the global state and make any interested component aware of it in real-time through events. The available API is illustrated by this code sample:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Store } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core.client&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Events } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;quasar&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">myCallback</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">previousValue</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> { </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">Store.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;myGlobal&#39;</span><span style="color:#E1E4E8;">, { </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;"> }) </span><span style="color:#6A737D;">// Set a root object</span></span>
<span class="line"><span style="color:#E1E4E8;">Store.</span><span style="color:#B392F0;">patch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;myGlobal&#39;</span><span style="color:#E1E4E8;">, { property: value }) </span><span style="color:#6A737D;">// Set a specific group of properties</span></span>
<span class="line"><span style="color:#E1E4E8;">Store.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;myGlobal.property&#39;</span><span style="color:#E1E4E8;">, value) </span><span style="color:#6A737D;">// Set a specific property path</span></span>
<span class="line"><span style="color:#E1E4E8;">Store.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;myGlobal.property&#39;</span><span style="color:#E1E4E8;">, defaultValue) </span><span style="color:#6A737D;">// defaultValue is returned if path is not found</span></span>
<span class="line"><span style="color:#E1E4E8;">Events.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;myGlobal-changed&#39;</span><span style="color:#E1E4E8;">, myCallback) </span><span style="color:#6A737D;">// When updating a root object</span></span>
<span class="line"><span style="color:#E1E4E8;">Events.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;myGlobal-property-changed&#39;</span><span style="color:#E1E4E8;">, myCallback) </span><span style="color:#6A737D;">// When updating a specific property path</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Store } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core.client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Events } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;quasar&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">myCallback</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">value</span><span style="color:#24292E;">, </span><span style="color:#E36209;">previousValue</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> { </span><span style="color:#D73A49;">...</span><span style="color:#24292E;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">Store.</span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;myGlobal&#39;</span><span style="color:#24292E;">, { </span><span style="color:#D73A49;">...</span><span style="color:#24292E;"> }) </span><span style="color:#6A737D;">// Set a root object</span></span>
<span class="line"><span style="color:#24292E;">Store.</span><span style="color:#6F42C1;">patch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;myGlobal&#39;</span><span style="color:#24292E;">, { property: value }) </span><span style="color:#6A737D;">// Set a specific group of properties</span></span>
<span class="line"><span style="color:#24292E;">Store.</span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;myGlobal.property&#39;</span><span style="color:#24292E;">, value) </span><span style="color:#6A737D;">// Set a specific property path</span></span>
<span class="line"><span style="color:#24292E;">Store.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;myGlobal.property&#39;</span><span style="color:#24292E;">, defaultValue) </span><span style="color:#6A737D;">// defaultValue is returned if path is not found</span></span>
<span class="line"><span style="color:#24292E;">Events.</span><span style="color:#6F42C1;">on</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;myGlobal-changed&#39;</span><span style="color:#24292E;">, myCallback) </span><span style="color:#6A737D;">// When updating a root object</span></span>
<span class="line"><span style="color:#24292E;">Events.</span><span style="color:#6F42C1;">on</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;myGlobal-property-changed&#39;</span><span style="color:#24292E;">, myCallback) </span><span style="color:#6A737D;">// When updating a specific property path</span></span></code></pre></div><h3 id="theme" tabindex="-1">Theme <a class="header-anchor" href="#theme" aria-label="Permalink to &quot;Theme&quot;">​</a></h3><p>The <strong>KDK</strong> offers a simple way of theming your application. The application theme is strongly linked with the <a href="https://quasar.dev/style/color-palette#brand-colors" target="_blank" rel="noreferrer">Quasar&#39;s brand color</a> approach. It strongly relies on using a predefined color schema composed of 8 colors:</p><p><img src="/kdk/assets/theme-colors.ffc2d23f.svg" alt="Theme colors"></p><p>You can customize these color schema <strong>statically</strong> and <strong>dynamically</strong>.</p><ul><li><strong>statically</strong> within the <code>css/quasar.variables.styl</code>:</li></ul><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">$primary    = </span><span style="color:#B392F0;">#bf360c</span></span>
<span class="line"><span style="color:#E1E4E8;">$secondary  ?= lighten($primary, 75%)</span></span>
<span class="line"><span style="color:#E1E4E8;">$accent     ?= lighten($primary, 25%)</span></span>
<span class="line"><span style="color:#E1E4E8;">$dark       ?= darken($primary, 25%)</span></span>
<span class="line"><span style="color:#E1E4E8;">$info       = $accent</span></span>
<span class="line"><span style="color:#E1E4E8;">$positive   = </span><span style="color:#FDAEB7;font-style:italic;">#7bb946</span></span>
<span class="line"><span style="color:#E1E4E8;">$negative   = </span><span style="color:#B392F0;">#c74a4a</span></span>
<span class="line"><span style="color:#E1E4E8;">$warning    = </span><span style="color:#B392F0;">#d09931</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">$primary    = </span><span style="color:#6F42C1;">#bf360c</span></span>
<span class="line"><span style="color:#24292E;">$secondary  ?= lighten($primary, 75%)</span></span>
<span class="line"><span style="color:#24292E;">$accent     ?= lighten($primary, 25%)</span></span>
<span class="line"><span style="color:#24292E;">$dark       ?= darken($primary, 25%)</span></span>
<span class="line"><span style="color:#24292E;">$info       = $accent</span></span>
<span class="line"><span style="color:#24292E;">$positive   = </span><span style="color:#B31D28;font-style:italic;">#7bb946</span></span>
<span class="line"><span style="color:#24292E;">$negative   = </span><span style="color:#6F42C1;">#c74a4a</span></span>
<span class="line"><span style="color:#24292E;">$warning    = </span><span style="color:#6F42C1;">#d09931</span></span></code></pre></div><ul><li><strong>dynamically</strong> using the <strong>Theme</strong> singleton:</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Theme } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@kalisio/kdk/core.client&#39;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">myTheme</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  primary: </span><span style="color:#9ECBFF;">&#39;#afb42b&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  secondary: </span><span style="color:#9ECBFF;">&#39;#bf360c&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  accent: </span><span style="color:#9ECBFF;">&#39;#e4e65e&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  dark: </span><span style="color:#9ECBFF;">&#39;#7c8500&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// the orther colors will be defined according the quasar.varaibles.styl values</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">// Apply my theme</span></span>
<span class="line"><span style="color:#E1E4E8;">Theme.</span><span style="color:#B392F0;">apply</span><span style="color:#E1E4E8;">(myTheme)</span></span>
<span class="line"><span style="color:#6A737D;">// Restore the default colors defined in quasar.varaibles.styl</span></span>
<span class="line"><span style="color:#E1E4E8;">Theme.</span><span style="color:#B392F0;">restore</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Theme } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@kalisio/kdk/core.client&#39;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">myTheme</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  primary: </span><span style="color:#032F62;">&#39;#afb42b&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  secondary: </span><span style="color:#032F62;">&#39;#bf360c&#39;</span></span>
<span class="line"><span style="color:#24292E;">  accent: </span><span style="color:#032F62;">&#39;#e4e65e&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  dark: </span><span style="color:#032F62;">&#39;#7c8500&#39;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// the orther colors will be defined according the quasar.varaibles.styl values</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">// Apply my theme</span></span>
<span class="line"><span style="color:#24292E;">Theme.</span><span style="color:#6F42C1;">apply</span><span style="color:#24292E;">(myTheme)</span></span>
<span class="line"><span style="color:#6A737D;">// Restore the default colors defined in quasar.varaibles.styl</span></span>
<span class="line"><span style="color:#24292E;">Theme.</span><span style="color:#6F42C1;">restore</span><span style="color:#24292E;">()</span></span></code></pre></div><p>Even if you can specify four different colors, the <strong>KDK</strong> let you specify the <code>primary</code> color only and will compute the other colors according the following rules:</p><table><thead><tr><th>Color</th><th>Rule</th></tr></thead><tbody><tr><td><code>secondary</code></td><td>lighten the <code>primary</code> by 75%</td></tr><tr><td><code>accent</code></td><td>lighten the <code>primary</code> by 250%</td></tr><tr><td><code>secondary</code></td><td>darken the <code>primary</code> by 25%</td></tr><tr><td><code>info</code></td><td>equal to <code>accent</code></td></tr><tr><td><code>positive</code></td><td>equal to <code>#7bb946</code></td></tr><tr><td><code>negative</code></td><td>equal to <code>#c74a4a</code></td></tr><tr><td><code>warning</code></td><td>equal to <code>#d09931</code></td></tr></tbody></table><p>It provides a convenient way to change the theme of the application using just one color.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Applications might also make possible to setup the theme object from the frontend <a href="./../../guides/basics/step-by-step.html#configuring-a-kapp">configuration</a></p></div><h3 id="context" tabindex="-1">Context <a class="header-anchor" href="#context" aria-label="Permalink to &quot;Context&quot;">​</a></h3><p><strong>TODO</strong></p><h2 id="i18n" tabindex="-1">i18n <a class="header-anchor" href="#i18n" aria-label="Permalink to &quot;i18n&quot;">​</a></h2><h3 id="client-side-internationalization" tabindex="-1">Client-side internationalization <a class="header-anchor" href="#client-side-internationalization" aria-label="Permalink to &quot;Client-side internationalization&quot;">​</a></h3><p>Internationalization relies on <a href="https://github.com/i18next/i18next" target="_blank" rel="noreferrer">i18next</a> and its <a href="https://github.com/panter/vue-i18next" target="_blank" rel="noreferrer">Vue plugin</a>. We don&#39;t use <a href="https://panter.github.io/vue-i18next/guide/component.html" target="_blank" rel="noreferrer">component based localization</a> and prefer to use <a href="https://panter.github.io/vue-i18next/guide/component-interpolation.html" target="_blank" rel="noreferrer">component interpolation</a>. Each module/application has its own set of translation files stored in the <em>client/i18n</em> folder. To avoid conflicts the convention we use is the following:</p><ul><li>a translation used in multiple components has no prefix</li><li>a translation used in a single component is prefixed by the source component name</li><li>some prefixes are reserved <ul><li><code>errors</code> for error messages</li><li><code>schemas</code> for labels in JSON schemas</li></ul></li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;CANCEL&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Cancel&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;errors&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;400&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Operation cannot be performed: bad parameters&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;font-style:italic;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;schemas&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;AVATAR_FIELD_LABEL&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Select an avatar&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;font-style:italic;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;KScreen&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;CLIENT_VERSION&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Client version&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;font-style:italic;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;font-style:italic;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;CANCEL&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Cancel&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;errors&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;400&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Operation cannot be performed: bad parameters&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;font-style:italic;">...</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;schemas&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;AVATAR_FIELD_LABEL&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Select an avatar&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;font-style:italic;">...</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;KScreen&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;CLIENT_VERSION&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Client version&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;font-style:italic;">...</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;font-style:italic;">...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>The setup of your application simply consists in providing to the i18n system the resolvers to load all the required translation files, please refer to our <a href="https://github.com/kalisio/kApp/blob/master/src/i18n/index.js" target="_blank" rel="noreferrer">application template</a>.</p><h3 id="server-side-internationalization" tabindex="-1">Server-side internationalization <a class="header-anchor" href="#server-side-internationalization" aria-label="Permalink to &quot;Server-side internationalization&quot;">​</a></h3><p>Usually translations are only meant to be used at the client level, server errors are converted to client-side translation based on error codes. However, sometimes you need to raise more specific and meaningful error messages from the server, in this case the raised error should contain translation key(s) and context instead of raw message(s), e.g.:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { BadRequest } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@feathersjs/errors&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Somewhere in a hook or service</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">throw</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">BadRequest</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;The provided password does not comply to the password policy&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    translation: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      key: </span><span style="color:#9ECBFF;">&#39;WEAK_PASSWORD&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      params: { failedRules: </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { BadRequest } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@feathersjs/errors&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Somewhere in a hook or service</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BadRequest</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;The provided password does not comply to the password policy&#39;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">    translation: {</span></span>
<span class="line"><span style="color:#24292E;">      key: </span><span style="color:#032F62;">&#39;WEAK_PASSWORD&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      params: { failedRules: </span><span style="color:#D73A49;">...</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span></code></pre></div><p>That way you can generate client-side translation with a generic error handler like in our <a href="https://github.com/kalisio/kApp/blob/master/src/App.vue" target="_blank" rel="noreferrer">application template</a>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">Events.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;error&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">error</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Translate the message if a translation key exists</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">translation</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(error, </span><span style="color:#9ECBFF;">&#39;data.translation&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (translation) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    error.message </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">$t</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;errors.&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> translation.key, translation.params)</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// Overwrite the message using error code</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (error.code) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      error.message </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">$t</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;errors.&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> error.code)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">showError</span><span style="color:#E1E4E8;">(error.message)</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">Events.</span><span style="color:#6F42C1;">on</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;error&#39;</span><span style="color:#24292E;">, </span><span style="color:#E36209;">error</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Translate the message if a translation key exists</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">translation</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> _.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(error, </span><span style="color:#032F62;">&#39;data.translation&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (translation) {</span></span>
<span class="line"><span style="color:#24292E;">    error.message </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">$t</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;errors.&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> translation.key, translation.params)</span></span>
<span class="line"><span style="color:#24292E;">  } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// Overwrite the message using error code</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (error.code) {</span></span>
<span class="line"><span style="color:#24292E;">      error.message </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">$t</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;errors.&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> error.code)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">showError</span><span style="color:#24292E;">(error.message)</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-a2d931e4><!--[--><!--]--><!----><nav class="prev-next" data-v-a2d931e4><div class="pager" data-v-a2d931e4><a class="pager-link prev" href="/kdk/api/core/introduction.html" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Previous page</span><span class="title" data-v-a2d931e4>Overview</span></a></div><div class="pager" data-v-a2d931e4><a class="pager-link next" href="/kdk/api/core/services.html" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Next page</span><span class="title" data-v-a2d931e4>Services</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-9d8abc1e data-v-e4279f1c><div class="container" data-v-e4279f1c><!----><p class="copyright" data-v-e4279f1c>MIT Licensed | Copyright © 2017-20xx Kalisio</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about_introduction.md\":\"d4b7911f\",\"api_core_application.md\":\"8d1c4bf9\",\"api_core_introduction.md\":\"04e59c7f\",\"api_core_mixins.md\":\"b331782e\",\"api_core_services.md\":\"7bed4f2e\",\"api_introduction.md\":\"b47393e6\",\"api_map_components.md\":\"8ff8f693\",\"api_map_globe-mixins.md\":\"d3301eb0\",\"api_map_hooks.md\":\"39132754\",\"api_map_introduction.md\":\"237ef1f2\",\"api_map_map-mixins.md\":\"8c396476\",\"api_map_mixins.md\":\"8a477568\",\"architecture_introduction.md\":\"585ae33b\",\"architecture_main-concepts.md\":\"53491173\",\"guides_basics_introduction.md\":\"dd1f66d1\",\"guides_development_configure.md\":\"aea5d40e\",\"guides_development_deploy.md\":\"8efae057\",\"guides_development_develop.md\":\"78c86703\",\"guides_development_publish.md\":\"56537144\",\"guides_development_test.md\":\"5d69d9de\",\"guides_introduction.md\":\"881f2716\",\"about_contributing.md\":\"b84a75ce\",\"tips_app-development.md\":\"eeb6f84e\",\"tips_introduction.md\":\"b1bb4966\",\"tips_mobile-configuration.md\":\"3df82590\",\"tools_browsers.md\":\"c5b780c0\",\"tools_cli.md\":\"89bf136c\",\"tools_db.md\":\"69d39df2\",\"tools_documentation.md\":\"7c698f3f\",\"tools_infrastructure.md\":\"39b46f36\",\"tools_introduction.md\":\"94e34eab\",\"about_roadmap.md\":\"d3c0c01a\",\"guides_development_setup.md\":\"bf15646e\",\"about_license.md\":\"bb6fb7fa\",\"index.md\":\"f7c86556\",\"api_map_services.md\":\"11da6d57\",\"architecture_component-view.md\":\"36feb425\",\"architecture_data-model-view.md\":\"28ceaa18\",\"architecture_global-architecture.md\":\"2e0fa195\",\"about_contact.md\":\"1380241d\",\"api_core_components.md\":\"aa0faaad\",\"api_core_hooks.md\":\"8a3a72ed\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"KDK\",\"description\":\"The Kalisio Development Kit\",\"base\":\"/kdk/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"https://s3.eu-central-1.amazonaws.com/kalisioscope/kano/kano-icon-256x256.png\",\"jwt\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJkZXYua2FsaXNpby54eXoiLCJpc3MiOiJrYWxpc2lvIn0.CGvJwPPkuiFvNzo3zUBb-_vwD0CKbUfm7w7TkCY-Ts4\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/kalisio/kano\"}],\"nav\":[{\"text\":\"About\",\"link\":\"/about/introduction\"},{\"text\":\"Guides\",\"link\":\"/guides/introduction\"},{\"text\":\"Architecture\",\"link\":\"/architecture/introduction\"},{\"text\":\"API\",\"link\":\"/api/introduction\"},{\"text\":\"Tips\",\"link\":\"/tips/introduction\"},{\"text\":\"Tools\",\"link\":\"/tools/introduction\"}],\"sidebar\":{\"/about/\":[{\"text\":\"About\",\"link\":\"/about/introduction\"},{\"text\":\"Roadmap\",\"link\":\"/about/roadmap\"},{\"text\":\"Contributing\",\"link\":\"/about/contributing\"},{\"text\":\"License\",\"link\":\"/about/license\"},{\"text\":\"Contact\",\"link\":\"/about/contact\"}],\"/guides/\":[{\"text\":\"Guides\",\"link\":\"/guides/introduction\"},{\"text\":\"The Basics\",\"collapsed\":true,\"items\":[{\"text\":\"Introduction to KDK\",\"link\":\"/guides/basics/introduction\"}]},{\"text\":\"Development\",\"collapsed\":true,\"items\":[{\"text\":\"Setup your environment\",\"link\":\"/guides/development/setup\"},{\"text\":\"Develop with KDK\",\"link\":\"/guides/development/develop\"},{\"text\":\"Testing with KDK\",\"link\":\"/guides/development/test\"},{\"text\":\"Configure your app\",\"link\":\"/guides/development/configure\"},{\"text\":\"Deploy your app\",\"link\":\"/guides/development/deploy\"},{\"text\":\"Publish with KDK\",\"link\":\"/guides/development/publish\"}]}],\"/architecture/\":[{\"text\":\"Architecture\",\"link\":\"/architecture/introduction\"},{\"text\":\"Main concepts\",\"link\":\"/architecture/main-concepts\"},{\"text\":\"Global architecture\",\"link\":\"/architecture/global-architecture\"},{\"text\":\"Component view\",\"link\":\"/architecture/component-view\"},{\"text\":\"Data model-oriented view of the architecture\",\"link\":\"/architecture/data-model-view\"}],\"/api/\":[{\"text\":\"API\",\"link\":\"/api/introduction\"},{\"text\":\"core\",\"collapsed\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/api/core/introduction\"},{\"text\":\"Application\",\"link\":\"/api/core/application\"},{\"text\":\"Services\",\"link\":\"/api/core/services\"},{\"text\":\"Hooks\",\"link\":\"/api/core/hooks\"},{\"text\":\"Components\",\"link\":\"/api/core/components\"},{\"text\":\"Mixins\",\"link\":\"/api/core/mixins\"}]},{\"text\":\"map\",\"collapsed\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/api/map/introduction\"},{\"text\":\"Services\",\"link\":\"/api/map/services\"},{\"text\":\"Hooks\",\"link\":\"/api/map/hooks\"},{\"text\":\"Components\",\"link\":\"/api/map/components\"},{\"text\":\"Mixins\",\"link\":\"/api/map/mixins\"},{\"text\":\"Map Mixins\",\"link\":\"/api/map/map-mixins\"},{\"text\":\"Globe Mixins\",\"link\":\"/api/map/globe-mixins\"}]}],\"/tips/\":[{\"text\":\"Tips\",\"link\":\"/tips/introduction\"},{\"text\":\"Application development\",\"link\":\"/tips/app-development\"},{\"text\":\"Mobile configuration\",\"link\":\"/tips/mobile-configuration\"}],\"/tools/\":[{\"text\":\"Tools\",\"link\":\"/tools/introduction\"},{\"text\":\"Command-line tools\",\"link\":\"/tools/cli\"},{\"text\":\"Browser-based tools\",\"link\":\"/tools/browsers\"},{\"text\":\"Documentation\",\"link\":\"/tools/documentation\"},{\"text\":\"Infrastructure\",\"link\":\"/tools/infrastructure\"}]},\"footer\":{\"copyright\":\"MIT Licensed | Copyright © 2017-20xx Kalisio\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>