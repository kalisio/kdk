<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Globe Mixins | KDK</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="https://s3.eu-central-1.amazonaws.com/kalisioscope/kdk/kdk-icon-64x64.png">
    <link rel="manifest" href="/kdk/manifest.json">
    <meta name="description" content="The Kalisio Development Kit">
    
    <link rel="preload" href="/kdk/assets/css/0.styles.50736a5c.css" as="style"><link rel="preload" href="/kdk/assets/js/app.1524e078.js" as="script"><link rel="preload" href="/kdk/assets/js/3.934b6e1d.js" as="script"><link rel="preload" href="/kdk/assets/js/16.ebbaf4e8.js" as="script"><link rel="preload" href="/kdk/assets/js/9.07565a82.js" as="script"><link rel="prefetch" href="/kdk/assets/js/10.781be977.js"><link rel="prefetch" href="/kdk/assets/js/11.31827355.js"><link rel="prefetch" href="/kdk/assets/js/12.c9b0320b.js"><link rel="prefetch" href="/kdk/assets/js/13.004accc5.js"><link rel="prefetch" href="/kdk/assets/js/14.47c0a2b4.js"><link rel="prefetch" href="/kdk/assets/js/15.730c1fa7.js"><link rel="prefetch" href="/kdk/assets/js/17.38af5a09.js"><link rel="prefetch" href="/kdk/assets/js/18.76c98707.js"><link rel="prefetch" href="/kdk/assets/js/19.6aa67e39.js"><link rel="prefetch" href="/kdk/assets/js/2.74a99991.js"><link rel="prefetch" href="/kdk/assets/js/20.0835256d.js"><link rel="prefetch" href="/kdk/assets/js/21.f5298221.js"><link rel="prefetch" href="/kdk/assets/js/22.6b73cedb.js"><link rel="prefetch" href="/kdk/assets/js/23.ec6c0ed6.js"><link rel="prefetch" href="/kdk/assets/js/24.824ae611.js"><link rel="prefetch" href="/kdk/assets/js/25.f5c8a13a.js"><link rel="prefetch" href="/kdk/assets/js/26.6aa473d4.js"><link rel="prefetch" href="/kdk/assets/js/27.4654bd50.js"><link rel="prefetch" href="/kdk/assets/js/28.99577333.js"><link rel="prefetch" href="/kdk/assets/js/29.fbabc77c.js"><link rel="prefetch" href="/kdk/assets/js/30.e640f814.js"><link rel="prefetch" href="/kdk/assets/js/31.2ee15340.js"><link rel="prefetch" href="/kdk/assets/js/32.cd0afe38.js"><link rel="prefetch" href="/kdk/assets/js/33.4b38a62b.js"><link rel="prefetch" href="/kdk/assets/js/34.97fee52f.js"><link rel="prefetch" href="/kdk/assets/js/35.a89d3db0.js"><link rel="prefetch" href="/kdk/assets/js/36.7a31460b.js"><link rel="prefetch" href="/kdk/assets/js/37.629ed788.js"><link rel="prefetch" href="/kdk/assets/js/38.c9b8b8c1.js"><link rel="prefetch" href="/kdk/assets/js/39.f103ef3a.js"><link rel="prefetch" href="/kdk/assets/js/4.f12e5706.js"><link rel="prefetch" href="/kdk/assets/js/40.756ac661.js"><link rel="prefetch" href="/kdk/assets/js/41.9ef837e1.js"><link rel="prefetch" href="/kdk/assets/js/42.75d6a1ed.js"><link rel="prefetch" href="/kdk/assets/js/43.0ab4316b.js"><link rel="prefetch" href="/kdk/assets/js/44.902e6282.js"><link rel="prefetch" href="/kdk/assets/js/45.196413f4.js"><link rel="prefetch" href="/kdk/assets/js/46.d59b3c45.js"><link rel="prefetch" href="/kdk/assets/js/47.751b78a9.js"><link rel="prefetch" href="/kdk/assets/js/48.be5bc7b9.js"><link rel="prefetch" href="/kdk/assets/js/49.83c79b33.js"><link rel="prefetch" href="/kdk/assets/js/5.e9941444.js"><link rel="prefetch" href="/kdk/assets/js/50.ca7da09f.js"><link rel="prefetch" href="/kdk/assets/js/51.b03dea6d.js"><link rel="prefetch" href="/kdk/assets/js/52.7b16b2ec.js"><link rel="prefetch" href="/kdk/assets/js/53.4a50cfb1.js"><link rel="prefetch" href="/kdk/assets/js/54.cae0b269.js"><link rel="prefetch" href="/kdk/assets/js/55.96396b6a.js"><link rel="prefetch" href="/kdk/assets/js/6.2ddaca3c.js"><link rel="prefetch" href="/kdk/assets/js/7.dbcb153c.js"><link rel="prefetch" href="/kdk/assets/js/8.41c50df0.js">
    <link rel="stylesheet" href="/kdk/assets/css/0.styles.50736a5c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kdk/" class="home-link router-link-active"><!----> <span class="site-name">KDK</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kdk/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kdk/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/kdk/architecture/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/kdk/api/" class="nav-link router-link-active">
  API
</a></div><div class="nav-item"><a href="/kdk/tips/" class="nav-link">
  Tips
</a></div><div class="nav-item"><a href="/kdk/tools/" class="nav-link">
  Tools
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kdk/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kdk/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/kdk/architecture/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/kdk/api/" class="nav-link router-link-active">
  API
</a></div><div class="nav-item"><a href="/kdk/tips/" class="nav-link">
  Tips
</a></div><div class="nav-item"><a href="/kdk/tools/" class="nav-link">
  Tools
</a></div> <!----></nav> <p align="center"><a href="https://kalisio.com"><img src="https://s3.eu-central-1.amazonaws.com/kalisioscope/kalisio/kalisio-logo-black-256x84.png"></a> <br> <!----></p> <ul class="sidebar-links"><li><a href="/kdk/api/" aria-current="page" class="sidebar-link">API</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>core</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>map</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kdk/api/map/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/kdk/api/map/services.html" class="sidebar-link">Services</a></li><li><a href="/kdk/api/map/hooks.html" class="sidebar-link">Hooks</a></li><li><a href="/kdk/api/map/components.html" class="sidebar-link">Components</a></li><li><a href="/kdk/api/map/mixins.html" class="sidebar-link">Mixins</a></li><li><a href="/kdk/api/map/map-mixins.html" class="sidebar-link">Map Mixins</a></li><li><a href="/kdk/api/map/globe-mixins.html" aria-current="page" class="active sidebar-link">Globe Mixins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kdk/api/map/globe-mixins.html#globe-mixins" class="sidebar-link">Globe Mixins</a></li><li class="sidebar-sub-header"><a href="/kdk/api/map/globe-mixins.html#base-globe" class="sidebar-link">Base Globe</a></li><li class="sidebar-sub-header"><a href="/kdk/api/map/globe-mixins.html#globe-style" class="sidebar-link">Globe Style</a></li><li class="sidebar-sub-header"><a href="/kdk/api/map/globe-mixins.html#globe-popup" class="sidebar-link">Globe Popup</a></li><li class="sidebar-sub-header"><a href="/kdk/api/map/globe-mixins.html#globe-tooltip" class="sidebar-link">Globe Tooltip</a></li><li class="sidebar-sub-header"><a href="/kdk/api/map/globe-mixins.html#geojson-layer" class="sidebar-link">GeoJson Layer</a></li><li class="sidebar-sub-header"><a href="/kdk/api/map/globe-mixins.html#file-layer" class="sidebar-link">File Layer</a></li><li class="sidebar-sub-header"><a href="/kdk/api/map/globe-mixins.html#globe-activity" class="sidebar-link">Globe Activity</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="globe-mixins"><a href="#globe-mixins" class="header-anchor">#</a> Globe Mixins</h2> <p>The underlying globe object is based on <a href="https://cesium.com/" target="_blank" rel="noopener noreferrer">Cesium<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="base-globe"><a href="#base-globe" class="header-anchor">#</a> Base Globe</h2> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>This mixin is a mandatory one to build a globe activity</p></div> <p>Make it possible to manage globe layers and extend supported layer types:</p> <ul><li><strong>setupGlobe(domElement, token)</strong> creates the underlying Cesium globe object with given Cesium Ion token</li> <li><strong>addLayer(options)/removeLayer(name)</strong> registers/destroys a layer based on a <a href="/kdk/api/map/services.html#catalog-service">catalog layer descriptor</a></li> <li><strong>showLayer/hideLayer(name)</strong> (un)hides the given layer in globe, on first show the layer will be lazily created</li> <li><strong>hasLayer(name)</strong> check if a given layer is already registered</li> <li><strong>isLayerVisible(name)</strong> check if a given layer is visible and underlying Cesium object created</li> <li><strong>zoomToLayer(name)</strong> fits the globe view to visualize a given layer</li> <li><strong>zoomToBounds(bounds)</strong> fits the globe view to visualize a given extent as bounds [ [south, west], [north, east] ]</li> <li><strong>getLayerByName(name)</strong> retrieve the <a href="/kdk/api/map/services.html#catalog-service">catalog layer descriptor</a> for a given layer</li> <li><strong>renameLayer(previousName, newName)</strong> rename a given layer</li> <li><strong>removeLayer(name)</strong> destroys a given layer</li> <li><strong>getCesiumLayerByName(name)</strong> retrieve the underlying Cesium object for a given layer</li> <li><strong>createCesiumLayer(options)</strong> creates the underlying Cesium object based on a <a href="/kdk/api/map/services.html#catalog-service">catalog layer descriptor</a>, will check all registered constructor for any one matching</li> <li><strong>registerCesiumConstructor(constructor)</strong> registers a Cesium constructor function for a given type of layer</li> <li><strong>center(longitude, latitude, altitude, heading, pitch, roll)</strong> centers the globe view to visualize a given point at a given altitude with and orientation (default is pointing ground vertically [0, 0, -90])</li> <li><strong>getCenter()</strong> get the current globe view center as longitude, latitude and altitude</li> <li><strong>getBounds()</strong> get the current map view bounds as <code>[ [south, west], [north, east] ]</code></li></ul> <p>This mixin also adds the following internal data properties:</p> <ul><li><strong>layers</strong> available layers as <a href="/kdk/api/map/services.html#catalog-service">catalog layer descriptors</a></li></ul> <h2 id="globe-style"><a href="#globe-style" class="header-anchor">#</a> Globe Style</h2> <p>Make it possible to setup Cesium entities objects with style based on (Geo)Json (feature) properties stored in entities:</p> <ul><li><strong>convertFromSimpleStyleSpec(style)</strong> helper function to convert from <a href="https://github.com/mapbox/simplestyle-spec" target="_blank" rel="noopener noreferrer">simple style spec options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to <a href="https://cesiumjs.org/Cesium/Build/Documentation/GeoJsonDataSource.html#.load" target="_blank" rel="noopener noreferrer">Cesium style options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>convertToCesiumObjects(style)</strong> helper function to convert from JSON description to Cesium objects</li></ul> <p>Use <strong>register/unregisterStyle(type, generator)</strong> to (un)register a function generating a Cesium object depending on the given type:</p> <ul><li><code>entityStyle</code> =&gt; <strong>f(entity, options)</strong> returns a <a href="https://cesium.com/docs/tutorials/creating-entities/" target="_blank" rel="noopener noreferrer">Cesium entity style object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>clusterStyle</code> =&gt; <strong>f(entities, cluster, options)</strong> returns a <a href="https://cesiumjs.org/Cesium/Build/Documentation/EntityCluster.html#~newClusterCallback" target="_blank" rel="noopener noreferrer">Cesium cluster style object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>The mixin automatically registers defaults styling:</p> <ul><li><code>entityStyle</code> =&gt; will create a style based on the following options merged with the following order of precedence
<ul><li><a href="https://github.com/mapbox/simplestyle-spec" target="_blank" rel="noopener noreferrer">simple style spec options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> set on <strong>feature.style</strong> or <strong>feature.properties</strong></li> <li><a href="https://cesium.com/docs/tutorials/creating-entities/" target="_blank" rel="noopener noreferrer">Cesium entity style options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> set on layer descriptor</li> <li><a href="https://cesium.com/docs/tutorials/creating-entities/" target="_blank" rel="noopener noreferrer">Cesium entity style options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> set on the <strong>entityStyle</strong> property in the component options</li></ul></li> <li><code>clusterStyle</code> =&gt; will create a style based on the following options merged with the following order of precedence
<ul><li><a href="https://cesiumjs.org/Cesium/Build/Documentation/EntityCluster.html#~newClusterCallback" target="_blank" rel="noopener noreferrer">Cesium cluster style options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> set on layer descriptor</li> <li><a href="https://cesiumjs.org/Cesium/Build/Documentation/EntityCluster.html#~newClusterCallback" target="_blank" rel="noopener noreferrer">Cesium cluster style options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> set on the <strong>clusterStyle</strong> property in the component options</li></ul></li></ul> <p>Cesium styles often rely on dynamically created objects while the input styling configuration is a static JSON. As a consequence the following rules are used to convert from JSON to Cesium objects:</p> <ul><li>constants are expressed as strings starting with <code>'Cesium.'</code></li> <li>object instances are expressed as a <code>{ type, options }</code> object where type is a string starting with <code>'Cesium.'</code> followed by the class name like <code>'Cesium.CheckerboardMaterialProperty'</code>, options are constructor options for the object instance
The following Cesium code:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>ellipse<span class="token punctuation">.</span>material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>CheckerboardMaterialProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  evenColor <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
  oddColor <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
  repeat <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>will result in the following Json configuration:</p> <div class="language-js extra-class"><pre class="language-js"><code>ellipse<span class="token operator">:</span> <span class="token punctuation">{</span>
  material<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'Cesium.CheckerboardMaterialProperty'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
      evenColor<span class="token operator">:</span> <span class="token string">'Cesium.Color.WHITE'</span><span class="token punctuation">,</span>
      oddColor<span class="token operator">:</span> <span class="token string">'Cesium.Color.BLACK'</span><span class="token punctuation">,</span>
      repeat<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'Cesium.Cartesian2'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="globe-popup"><a href="#globe-popup" class="header-anchor">#</a> Globe Popup</h2> <p>Make it possible to generate <a href="https://cesiumjs.org/Cesium/Build/Documentation/LabelGraphics.html" target="_blank" rel="noopener noreferrer">Cesium labels<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as popups based on GeoJson feature properties stored in entities. Use <strong>register/unregisterStyle(<code>popup</code>, generator)</strong> to (un)register a function <strong>f(entity, options)</strong> returning a <a href="https://cesium.com/docs/tutorials/creating-entities/" target="_blank" rel="noopener noreferrer">Cesium entity style object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>The mixin automatically registers a default generator that will create a popup displaying a property name/value table based on the following options with the following order of precedence</p> <ul><li><strong>popup</strong>: set on <strong>entity.properties</strong> or layer descriptor or in the <strong>popup</strong> property of component options
<ul><li><strong>pick</strong>: array of property names to appear in the popup</li> <li><strong>omit</strong>: array of property names not to appear in the popup</li> <li><strong>template</strong>: <a href="https://lodash.com/docs/#template" target="_blank" rel="noopener noreferrer">Lodash template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to generate popup content with <code>feature</code>, its <code>properties</code> and translation function <code>$t</code> as context</li> <li><strong>html</strong>: HTML content of the popup, if provided will override default display</li> <li><strong>options</strong>: Cesium <a href="https://cesiumjs.org/Cesium/Build/Documentation/LabelGraphics.html" target="_blank" rel="noopener noreferrer">label options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you want to disable a default popup configuration like <code>popup: { }</code> (i.e. display all properties) on a per-layer basis you have to explicitely unset it on your layer options using <code>popup: null</code> or <code>popup: false</code>.</p></div> <h2 id="globe-tooltip"><a href="#globe-tooltip" class="header-anchor">#</a> Globe Tooltip</h2> <p>Make it possible to generate <a href="https://cesiumjs.org/Cesium/Build/Documentation/LabelGraphics.html" target="_blank" rel="noopener noreferrer">Cesium labels<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as tooltips based on GeoJson feature properties stored in entities. Use <strong>register/unregisterStyle(<code>tooltip</code>, generator)</strong> to (un)register a function <strong>f(entity, options)</strong> returning a <a href="https://cesium.com/docs/tutorials/creating-entities/" target="_blank" rel="noopener noreferrer">Cesium entity style object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>The mixin automatically registers a default generator that will create a tooltip based on the following options with the following order of precedence</p> <ul><li><strong>tooltip</strong>: set on <strong>entity.properties</strong> or layer descriptor or in the <strong>tooltip</strong> property of component options
<ul><li><strong>property</strong>: property name to appear in the tooltip</li> <li><strong>template</strong>: <a href="https://lodash.com/docs/#template" target="_blank" rel="noopener noreferrer">Lodash template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to generate tooltip content with <code>feature</code>, its <code>properties</code> and translation function <code>$t</code> as context</li> <li><strong>html</strong>: HTML content of the tooltip, if provided will override default display</li> <li><strong>options</strong>: Cesium <a href="https://cesiumjs.org/Cesium/Build/Documentation/LabelGraphics.html" target="_blank" rel="noopener noreferrer">label options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you want to disable a default tooltip configuration like <code>tooltip: { property: 'name' }</code> (i.e. display all properties) on a per-layer basis you have to explicitely unset it on your layer options using <code>tooltip: null</code> or <code>tooltip: false</code>.</p></div> <h2 id="geojson-layer"><a href="#geojson-layer" class="header-anchor">#</a> GeoJson Layer</h2> <p>Make it possible to manage and style raw or time-based GeoJson map layers:</p> <ul><li><strong>createCesiumGeoJsonLayer(options)</strong> automatically registered GeoJson Cesium layer constructor</li> <li><strong>updateLayer(name, geoJson)</strong> update underlying GeoJson data of a given layer</li></ul> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>The <a href="/kdk/api/map/mixins.html#globe-style">style mixin</a> is mandatory when using this mixin. If you'd like to support popups/tooltips you should also use the <a href="/kdk/api/map/mixins.html#globe-tooltip">popup mixin</a> and/or <a href="/kdk/api/map/mixins.html#globe-tooltip">tooltip mixin</a>.</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Marker cluster options are to be provided in the <strong>cluster</strong> property of the Cesium layer options</p></div> <p>The following configuration illustrates a GeoJson marker cluster layer using options set on the layer descriptor (see image below):</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Layer'</span><span class="token punctuation">,</span>
  description<span class="token operator">:</span> <span class="token string">'My sites'</span><span class="token punctuation">,</span>
  tags<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'business'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  icon<span class="token operator">:</span> <span class="token string">'star'</span><span class="token punctuation">,</span>
  attribution<span class="token operator">:</span> <span class="token string">'(c) My company'</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token string">'OverlayLayer'</span><span class="token punctuation">,</span>
  cesium<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'geoJson'</span><span class="token punctuation">,</span>
    source<span class="token operator">:</span> <span class="token string">'https://s3.eu-central-1.amazonaws.com/kargo/nuclear-sites.json'</span><span class="token punctuation">,</span>
    cluster<span class="token operator">:</span> <span class="token punctuation">{</span>
      pixelRange<span class="token operator">:</span> <span class="token number">50</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'marker-symbol'</span><span class="token operator">:</span> <span class="token string">'star'</span><span class="token punctuation">,</span>
    <span class="token string">'marker-color'</span><span class="token operator">:</span> <span class="token string">'#FFA500'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/kdk/assets/img/marker-cluster-3D.e8927429.png" alt="3D marker cluster"></p> <h3 id="additional-feature-types"><a href="#additional-feature-types" class="header-anchor">#</a> Additional feature types</h3> <p>The following options can be set as feature <code>properties</code> to manage more geometry types:</p> <ul><li><strong>wall</strong> boolean set to <code>true</code> on a <code>LineString</code> will result in an additional <a href="https://cesiumjs.org/Cesium/Build/Documentation/WallGraphics.html?classFilter=wall" target="_blank" rel="noopener noreferrer">WallGraphics<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which uses the styling options of the feature</li> <li><strong>geodesic</strong> boolean set to <code>true</code> on a <code>Point</code> will result in a great circle represented as a <a href="https://cesiumjs.org/Cesium/Build/Documentation/EllipseGraphics.html" target="_blank" rel="noopener noreferrer">EllipseGraphics<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which <strong>radius</strong> must be specified in meters and uses the styling options of the feature</li> <li><strong>icon-text</strong> string set on a <code>Point</code> will result in a <a href="https://cesiumjs.org/Cesium/Build/Documentation/LabelGraphics.html?classFilter=label" target="_blank" rel="noopener noreferrer">LabelGraphics<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> instead of a <a href="https://cesiumjs.org/Cesium/Build/Documentation/BillboardGraphics.html?classFilter=bill" target="_blank" rel="noopener noreferrer">BillboardGraphics<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which uses the styling options of the feature</li></ul> <h3 id="dynamic-styling"><a href="#dynamic-styling" class="header-anchor">#</a> Dynamic styling</h3> <p>The same than for <a href="/kdk/api/map/map-mixins.html#dynamic-styling">dynamic map style</a> applies for globe. Note however that templating will be applied once the 3D entities have been created, which means that you cannot use templating on <a href="https://github.com/mapbox/simplestyle-spec" target="_blank" rel="noopener noreferrer">simple style spec options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> but rather on Cesium object options set on the <code>entityStyle</code> layer option.</p> <p>For instance you can change the marker color or image based on a given features's property like this:</p> <div class="language-js extra-class"><pre class="language-js"><code>entityStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
  billboard<span class="token operator">:</span> <span class="token punctuation">{</span>
    image<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;% if (properties.visibility &lt; 75) { %&gt;/statics/windyblack.png&lt;% }
              else if (properties.visibility &lt; 300) { %&gt;/statics/windyred.png&lt;% }
              else if (properties.visibility &lt; 1500) { %&gt;/statics/windyorange.png&lt;% }
              else if (properties.visibility &lt; 3000) { %&gt;/statics/windyyellow.png&lt;% }
              else { %&gt;/statics/windygreen.png&lt;% } %&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Cesium.Color.&lt;% if (properties.visibility &lt; 75) { %&gt;BLACK&lt;% }
              else if (properties.visibility &lt; 300) { %&gt;ORANGERED&lt;% }
              else if (properties.visibility &lt; 1500) { %&gt;GOLD&lt;% }
              else if (properties.visibility &lt; 3000) { %&gt;YELLOW&lt;% }
              else { %&gt;LIMEGREEN&lt;% } %&gt;&quot;/&gt;</span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'billboard.image'</span><span class="token punctuation">,</span> <span class="token string">'billboard.color'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can also draw a path with a different styling on each part like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'FeatureCollection'</span><span class="token punctuation">,</span>
  features<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'Feature'</span><span class="token punctuation">,</span>
    properties<span class="token operator">:</span> <span class="token punctuation">{</span> stroke<span class="token operator">:</span> <span class="token string">'#000000'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    geometry<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'LineString'</span><span class="token punctuation">,</span> coordinates<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'Feature'</span><span class="token punctuation">,</span>
    properties<span class="token operator">:</span> <span class="token punctuation">{</span> stroke<span class="token operator">:</span> <span class="token string">'#FF00FF'</span><span class="token punctuation">,</span> weight<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    geometry<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'LineString'</span><span class="token punctuation">,</span> coordinates<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="file-layer"><a href="#file-layer" class="header-anchor">#</a> File Layer</h2> <p>Make it possible to drag'n'drop GeoJson or KML file on the globe. It will automatically create a new <a href="/kdk/api/map/globe-mixins.html#geojson-layer">GeoJson layer</a> named after the filename on drop. As a consequence it has to be used with the GeoJson layer mixin and will use the configured styling.</p> <h2 id="globe-activity"><a href="#globe-activity" class="header-anchor">#</a> Globe Activity</h2> <p>Make it easier to create 3D mapping activities:</p> <ul><li><strong>initializeGlobe(token)</strong> setup the render engine with given Cesium ion access token, <strong>should be called first before any other method</strong></li> <li><strong>finalizeGlobe()</strong> destroy the render engine</li></ul> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>It assumes that the DOM element used by the render engine has a ref named <code>globe</code></p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kdk/api/map/map-mixins.html" class="prev">
        Map Mixins
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/kdk/assets/js/app.1524e078.js" defer></script><script src="/kdk/assets/js/3.934b6e1d.js" defer></script><script src="/kdk/assets/js/16.ebbaf4e8.js" defer></script><script src="/kdk/assets/js/9.07565a82.js" defer></script>
  </body>
</html>
